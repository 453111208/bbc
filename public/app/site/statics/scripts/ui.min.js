document.head||(document.head=document.getElementsByTagName("head")[0]);function isElement(b){b instanceof jQuery&&(b=b[0]);return b?b.nodeName&&1===b.nodeType:!1}function substitute(b,a){return String(b).replace(/\\?\{([^{}]+)\}/g,function(b,f){return"\\"===b.charAt(0)?b.slice(1):null!=a[f]?a[f]:""})}function evalScripts(b,a,c){if(b){var f="",h=b.replace(/<script[^>]*>([\s\S]*?)<\/script>/gi,function(b,a){f+=a+"\n";return""});$(a).html(c?h:b);c&&$.globalEval(f);return h}}
function maxZindex(b,a){b=$(b||"div");var c=0;if(b.length){var f=b.filter(function(b){if(isElement(b)&&!(-1<["script","link","base","style"].indexOf(b.tagName.toLowerCase())))return-1<["absolute","relative","fixed"].indexOf($(b).css("position"))});if(f.length)for(var h=0,e=f.length;h<e;h++)var d=f[h].css("z-index"),c=Math.max(c,isNaN(d)?0:d)}a&&(c+=parseInt(a));return Math.min(c,2147483647)}
function dataOptions(b,a){if(!a)throw Error("dataOptions：请传入prefix参数");var c=$(b).data(),f={},h,e=RegExp("^"+a.toLowerCase()+"([A-Z])");a=RegExp("^"+a.toLowerCase());for(var d in c)a.test(d)&&(h=d.replace(e,function(b,a){return a.toLowerCase()}),f[h]=c[d]);return f}
function countdown(b,a){function c(b,a,f){var d="",e=!1,q=0,r=0,s=0,n=0,q=Math.round(+new Date/1E3),n=a-q;if(!(0>n))return 0==n&&f&&f(),h||(0<Math.floor(n/86400)&&(q=Math.floor(n/86400),n%=86400,d+=q+"天",e=!0),0<Math.floor(n/3600)&&(r=Math.floor(n/3600),n%=3600,e=!0)),e&&(d+=" "+r+"时",e=!0),!h&&0<Math.floor(n/60)&&(s=Math.floor(n/60),n%=60,e=!0),e&&(d+=" "+s+"分",e=!0),0<Math.floor(n)&&(e=!0),e&&(d+=" "+n+"秒",e=!0),$(b).html(d),setTimeout(function(){c(b,a,f)},1E3)}var f=this;a=$.extend({start:60,secondOnly:!1,
callback:null},a||{});var h=a.secondOnly,e=a.callback,d=Math.round((+new Date+1E3*a.start)/1E3);this.timer=c(b,d,e);this.stop=function(){clearTimeout(f.timer)}}$.fn.outerHtml=function(){if("outerHTML"in document.body){var b="";this.each(function(a,c){b+=c.outerHTML});return b}return $("<div>").append(this.clone(!0,!0)).html()};
$.fn.patch=function(b){var a=this,c;c=b?$.makeArray(b):["margin","padding","border"];var f={x:0,y:0};$.each({x:["left","right"],y:["top","bottom"]},function(b,e){$.each(e,function(d,g){try{$.each(c,function(c,d){d+="-"+g;0==d.indexOf("border")&&(d+="-width");f[b]+=parseInt(a.css(d))||0})}catch(e){}})});return f};
$.fn.locate=function(b){b=$.extend({relative:document.body,x:"center",y:"center"},b);var a,c,f=b.offset;c=$(b.relative);var h=$(this).css("position","absolute"),e=h.height(),d=h.width(),g=(c.is("body")?$(window):c).innerHeight(),k=c.innerWidth();switch(b.x){case 0:case "left":a=0;break;case "right":a=k-d;break;default:a=parseInt((k-d)/2)}switch(b.y){case 0:case "top":b=0;break;case "bottom":b=g-e;break;default:b=parseInt((g-e)/2)}a=Math.max(0,Math.floor(a+(c.offset()?c.offset().left:0)+c.scrollLeft()));
c=Math.max(0,Math.floor(b+(c.offset()?c.offset().top:0)+c.scrollTop()));"string"===typeof f?"top"==f?c-=e:"left"==f?a-=d:"bottom"==f?c+=g:"right"==f&&(a+=k):$.isPlainObject(f)&&(a+=f.x||0,c+=f.y||0);h.css({left:a,top:c});return this};Array.prototype.some||(Array.prototype.some=function(b,a){for(var c=0,f=this.length>>>0;c<f;c++)if(c in this&&b.call(a,this[c],c,this))return!0;return!1});
Array.prototype.every||(Array.prototype.every=function(b,a){for(var c=0,f=this.length>>>0;c<f;c++)if(c in this&&!b.call(a,this[c],c,this))return!1;return!0});Array.prototype.indexOf||(Array.prototype.indexOf=function(b,a){var c=this.length>>>0;a=+a||0;Infinity===Math.abs(a)&&(a=0);0>a&&(a+=c,0>a&&(a=0));for(;a<c;a++)if(this[a]===b)return a;return-1});$.fn.some=function(b,a){return Array.prototype.slice.call(this).some(b,a)};
$.fn.every=function(b,a){return Array.prototype.slice.call(this).every(b,a)};
var Class=function(b,a){"function"===typeof b&&(b={init:b});var c=function(){"function"===typeof this.init&&this.init.apply(this,arguments)};c.prototype=b||{};c.prototype.setOptions=function(){this.options=$.extend.apply(null,[!0,{},this.options].concat($.makeArray(arguments)));return this};c.prototype.trigger=function(b,a){b=this.options[b]||this.options["on"+b.replace(/^[a-z]/g,function(b){return b.toUpperCase()})];"function"===typeof b&&b.apply(this,$.makeArray(a));return this};if("object"===typeof a)for(var f in a)a.hasOwnProperty(f)&&
(c[f]=a[f]);return c};(function(){var b,a,c=window.console;window.log=b=function(){a.push(arguments);c?c.log[c.firebug?"apply":"call"](c,Array.prototype.slice.call(arguments)):alert(Array.prototype.slice.call(arguments).join("\n"))};b.history=a=[]})();(function(b){function a(a,c){this.$container=b(a);this.config=b.extend({},b.fn.switchable.defaults,c||{});this._init()}b.extend({Switchable:a});SP=a.prototype;a.Plugins=[];b.extend(SP,{_init:function(){var f=this,c=this.config;this.activeIndex=c.activeIndex;this.$evtBDObject=b("<div />");this._parseStructure();c.hasTriggers&&this._bindTriggers();c.hasFlips&&this._bindFlips();b.each(a.Plugins,function(){this._init(f)})},_parseStructure:function(){var b=this.$container,a=this.config;switch(a.type){case 0:this.$triggers=
b.find("."+a.navCls).children();this.$panels=b.find("."+a.contentCls).children();break;case 1:this.$triggers=b.find("."+a.triggerCls),this.$panels=b.find("."+a.panelCls)}this.viewLength=this.$panels.length/a.step},_bindTriggers:function(){var a=this,c=this.config,e=this.$triggers,d=c.events;b.isArray(d)||(d=d.split(","));e.each(function(g,e){-1!==b.inArray("click",d)&&b(e).click(function(b){b.preventDefault();if(a.activeIndex===g)return a;a.switchTimer&&clearTimeout(a.switchTimer);a.switchTimer=setTimeout(function(){a.switchTo(g)},
1E3*c.delay);b.stopPropagation()});-1!==b.inArray("hover",d)&&b(e).hover(function(b){if(a.activeIndex===g)return a;a.switchTimer&&clearTimeout(a.switchTimer);a.switchTimer=setTimeout(function(){a.switchTo(g)},1E3*c.delay)},function(b){a.switchTimer&&clearTimeout(a.switchTimer);b.stopPropagation()})})},_bindFlips:function(){var b=this,a=this.config,c=this.$container.find(a.backward),a=this.$container.find(a.forward);c.click(function(a){a.preventDefault();b.backward()});a.click(function(a){a.preventDefault();
b.forward()})},beforeSwitch:function(a){a=a||this.config.onBeforeSwitch;if(b.isFunction(a))this.$container.on("beforeSwitch.switchable",a)},afterSwitch:function(a){a=a||this.config.onAfterSwitch;if(b.isFunction(a))this.$container.on("afterSwitch.switchable",a)},switchTo:function(a){var c=this.config,e=b.makeArray(this.$triggers),d=b.makeArray(this.$panels),g=this.activeIndex,k=c.step,m=g*k,p=a*k;this.beforeSwitch();var l=b.Event("beforeSwitch.switchable");this.$container.trigger(l,[a]);c.hasTriggers&&
this._switchTrigger(-1<g?e[g]:null,e[a]);this._switchView(d.slice(m,m+k),d.slice(p,p+k),a);this.activeIndex=a;this.afterSwitch();l=b.Event("afterSwitch.switchable");this.$container.trigger(l,[a])},backward:function(){var b=this.activeIndex;this.switchTo(0<b?b-1:this.viewLength-1)},forward:function(){var b=this.activeIndex;this.switchTo(b<this.viewLength-1?b+1:0)},_switchTrigger:function(a,c){var e=this.config.activeCls;a&&b(a).removeClass(e);b(c).addClass(e)},_switchView:function(a,c,e){b.each(a,
function(){b(this).hide()});b.each(c,function(){b(this).show()})}});b.fn.switchable=function(c){var h=this,e=h.data("switchables");h.data("switchables",e?e:[]);return h.each(function(){h.data("switchables").push(new a(b(this),c))})};b.fn.switchable.defaults={type:0,navCls:"switchable-nav",contentCls:"switchable-content",triggerCls:"switchable-trigger",panelCls:"switchable-panel",hasTriggers:!0,activeIndex:0,activeCls:"active",events:["click","hover"],hasFlips:!1,backward:".prev",forward:".next",step:1,
delay:0.1,viewSize:[]};b.extend(b.fn.switchable.defaults,{autoplay:!1,interval:3,pauseOnHover:!0});a.Plugins.push({name:"autoplay",_init:function(b){var a=b.config;a.autoplay&&(a.pauseOnHover&&b.$container.hover(function(a){b.paused=!0},function(c){c.currentTarget!==c.target&&0===b.$container.has(c.target).length||setTimeout(function(){b.paused=!1},1E3*a.interval)}),b.autoplayTimer=setInterval(function(){b.paused||b.switchTo(b.activeIndex<b.viewLength-1?b.activeIndex+1:0)},1E3*a.interval,!0))}});
var c;b.extend(b.fn.switchable.defaults,{effect:"none",duration:0.5,easing:"linear",circle:!1});a.Effects={none:function(a,c,e){b.each(a,function(){b(this).hide()});b.each(c,function(){b(this).show()});e()},fade:function(a,c,e){if(1===a.length){var d=this,g=d.config,k=a[0],m=c[0];d.$anim&&d.$anim.clearQueue();b(m).css("opacity",1);d.$anim=b(k).animate({opacity:0,duration:g.duration,easing:g.easing},function(){d.$anim=null;b(m).css("z-index",9);b(k).css("z-index",1);e()})}},scroll:function(a,c,e,d){var g=
this;a=g.config;var k="scrollx"===a.effect,m=g.viewSize[k?0:1]*d,p={},l,q;a.circle&&0==d&&g.activeIndex==g.viewLength-1&&(l=b(c),g.$container.data("switchables-circle_appended")||(l.parent().append(l.clone()),g.$container.data("switchables-circle_appended",!0),k&&l.parent().css("width",g.viewSize[0]*(g.viewLength+1)+"px")),q=m,m=g.viewSize[k?0:1]*g.viewLength);p[k?"left":"top"]=-m;b.extend(p,{duration:a.duration,easing:a.easing});g.$anim&&g.$anim.clearQueue();g.$anim=g.$panels.parent().animate(p,
function(){l&&(l.parent().css(k?"left":"top",q),l=null);g.$anim=null;e()})}};c=a.Effects;c.scrollx=c.scrolly=c.scroll;a.Plugins.push({name:"effect",_init:function(a){var c=a.config,e=c.effect,d=a.$panels,g=c.step,k=a.activeIndex,m=k*g,p=m+g-1;a.viewSize=[c.viewSize[0]||d.outerWidth()*g,c.viewSize[1]||d.outerHeight()*g];if("none"!==e)switch(d.css("display","block"),e){case "scrollx":case "scrolly":d.parent().css("position","absolute");d.parent().parent().css("position","relative");"scrollx"===e&&(d.css("float",
"left"),d.parent().css("width",a.viewSize[0]*a.viewLength+"px"));break;case "fade":d.each(function(a){b(this).css({opacity:a>=m&&a<=p?1:0,position:"absolute",zIndex:a>=m&&a<=p?9:1})})}else d.eq(k).siblings(d.selector()+":visible").css("display","none")}});b.extend(SP,{_switchView:function(a,h,e){var d=this.config.effect;(b.isFunction(d)?d:c[d]).call(this,a,h,function(){},e)}});b.extend(b.fn.switchable.defaults,{lazyload:!1,lazyDataType:"data-src"});a.Plugins.push({name:"lazyload",_init:function(a){function c(m,
p){var l=d.step,q=p*l;b.loadCustomLazyData(g.slice(q,q+l),k);e()&&(a.afterSwitch(),m=b.Event("afterSwitch.switchable"),a.$container.trigger(m).off("beforeSwitch.switchable",c))}function e(){var b,c=!0;"data-src"===k&&(b="IMG"==g[0].nodeName?a.$panels:a.$panels.find("img"),b.each(function(){if(this.getAttribute(k))return c=!1}));return c}var d=a.config;if(d.lazyload){var g=b.makeArray(a.$panels),k=d.lazyDataType;a.beforeSwitch(c);a.$container.trigger("beforeSwitch.switchable")}}});b.extend({loadCustomLazyData:function(a,
c,e){var d,g;b.each(a,function(){switch(c){case "action-lazyload":g="TEXTAREA"===this.nodeName&&b(this).hasClass("action-lazyload")?b(this):b(this).find("textarea.action-lazyload");var a=b("<div/>").insertAfter(g);g&&g.val()&&(evalScripts(g.val(),a,e),g.remove());break;default:(d="IMG"===this.nodeName&&b(this).attr("data-src")?b(this):b(this).find("img[data-src]"))&&d.each(function(){var b=this.getAttribute(c);b&&this.src!=b&&(this.src=b,this.removeAttribute(c))})}})}});a.autoRender=function(a,c){var e=
this;a=a||"[data-toggle=switchable]";var d=b(c||document.body).find(a);b.loadCustomLazyData(b(c||document.body),"action-lazyload");d.each(function(){try{var a=b(this).data("switchableConfig"),c=dataOptions(this,"switchable");"string"===typeof a&&(a=JSON.parse(a));b(this).removeData("switchableConfig");b.extend(!0,a,c||{});new e(b(this),a)}catch(d){}})}})(jQuery);jQuery(function(b){b.Switchable.autoRender()});var Dialog=new Class({options:{title:"提示",minHeight:50,minWidth:80,locate:{target:document.body,x:"center",y:"center"},frameTpl:'<iframe allowtransparency="allowtransparency" align="middle" frameborder="0" height="100%" width="100%" scrolling="auto" src="about:blank">请使用支持iframe框架的浏览器。</iframe>',ajaxTpl:'<div class="loading">loading...</div>',asyncOptions:{type:"get"},component:{container:"dialog",body:"dialog-body",header:"dialog-header",close:"dialog-btn-close",content:"dialog-content"}},init:function(b,
a){if(b){this.doc=$(document.body);this.setOptions(a);a=this.options;var c=a.asyncOptions||{},f=this.container=this.build(b);this.body=f.find("."+a.component.body);this.header=f.find("."+a.component.header);this.title=this.header.find("h2");this.close=f.find("."+a.component.close);this.content=f.find("."+a.component.content);a.width&&!isNaN(a.width)&&(a.width=1>=a.width&&0<a.width?a.width*$(window).innerWidth():parseInt(a.width));a.height&&!isNaN(a.height)&&(a.height=1>=a.height&&0<a.height?a.height*
$(window).innerHeight():parseInt(a.height));this.size={x:a.width-this.body.patch().x-this.container.patch().x||"",y:a.height-this.body.patch().y-this.container.patch().x||""};a.title||this.header.find("h2")[0]&&this.header.find("h2").remove();f.data("instance")||this.body.css({width:this.size.x,height:this.size.y});this.trigger("load",this);"string"===$.type(b)&&("ajax"===a.async||!0===a.async?$.ajax($.extend({url:b+"",complete:$.proxy(function(a){this.content.html(a.responseText);this.locate();c.callback.call(this,
a)},this)},c)):"iframe"===a.async&&(f=c.data?b+(1<b.indexOf("?")?"&":"?")+c.data:b+"",this.content.find("iframe").attr("src",f).on("load",$.proxy(c.success||function(){},this))));a.modal&&(this.mask=new Mask(a.modal));this.hidden=!0;this.attach()}},attach:function(){this.show();var b=this;if(!this.container.data("instance"))this.container.data("instance",this).on("click","."+this.options.component.close,function(a){b.hide()});return this},build:function(b){function a(a){a=$(a);return a.is("img,object,script")?
a.outerHtml():a.html()}var c=this.options,f=$("#"+String(c.id)),h;if("string"===$.type(b))if("ajax"===c.async)h=c.ajaxTpl;else if("iframe"===c.async)h=c.frameTpl;else try{h=a(b)}catch(e){}else isElement(b)&&(h=a(b));if(f.length)return isElement(b)&&f.data("instance").content.html(h),f;b='<div class="{container}" {id} data-module="dialog" tabindex="1">'+this.getTemplate()+"</div>";$.extend(c.component,{title:c.title,id:c.id?'id="'+c.id+'"':"",main:h});return $(substitute(b,c.component)).appendTo(this.doc)},
getTemplate:function(b){var a=this.options;b=b||a.type;var c='<div class="{body}">;<div class="{header}">;<h2>{title}</h2>;<span><button type="button" class="{close}" title="关闭" hidefocus><i>×</i></button></span>;</div>;<div class="{content}">{main}</div>;</div>'.split(";");if("nohead"===b)c[1]=c[2]=c[3]=c[4]="";else if("notitle"===b)c[2]="";else if("noclose"===b||a.autoHide)c[3]="";else if("string"===typeof b)return b;return c.join("\n")},show:function(){var b=this;if(!this.hidden)return this;this.container.css("display",
"block");this.locate();this.options.useIframeShim&&$("<iframe/>",{frameborder:0,src:"about:blank",style:"position:absolute;z-index:-1;border:0 none;filter:alpha(opacity=0);top:"+-this.container.css("border-top-width")+";left:"+-this.container.css("border-left-width")+";width:"+this.container.outerWidth()+"px;height:"+this.container.outerHeight()+"px;"}).appendTo(this.container);this.container[0].focus();this.hidden=!1;this.trigger("show",this);this.mask&&this.mask.show();this.options.autoHide&&(this.container.timer=
setTimeout(function(){b.hide()},1E3*parseInt(this.options.autoHide)));return this},hide:function(){if(this.hidden)return this;this.trigger("close",this);this.container.remove();this.hidden=!0;this.hideMask();return this},stopTimer:function(){this.container.timer&&(clearTimeout(this.container.timer),this.container.timer=null);return this},hideMask:function(){this.mask&&this.mask.hide();return this},locate:function(b){b=b||this.options.locate;var a;this.size.y?a=this.container:this.container.height()>=
$(window).height()&&(a=$(window));a&&isElement(a)&&this.options.height&&this.setHeight(a);this.container.locate(b);return this},setHeight:function(b){b=b||this.container;this.content.height(b.height()-this.container.patch().y-this.body.patch().y-this.header.outerHeight()-this.content.patch().y)}}),Mask=new Class({options:{"class":"mask"},init:function(b){this.target=$(this.options.target||document.body);this.setOptions(b);this.element=$("<div>",{"data-module":"mask","class":this.options["class"]}).appendTo(this.target);
this.hidden=!0},setSize:function(){this.element.is(":visible")&&"fixed"!==this.element.css("position")&&this.element.css({width:this.options.width||this.target.width(),height:this.options.height||this.target.height()})},locate:function(){this.element.locate()},show:function(){if(this.hidden)return this.options.resize&&$(window).resize($.proxy(this.setSize,this)),this.setSize(),this.element.css("display","block"),this.options.zIndex&&this.element.css("z-index",this.options.zIndex),this.options.locate&&
this.locate(),this.trigger("show",this),this.hidden=!1,this},hide:function(){if(!this.hidden)return this.options.resize&&$(window).off("resize",$.proxy(this.setSize,this)),this.element.remove(),this.trigger("hide",this),this.hidden=!0,this},toggle:function(){return this[this.hidden?"show":"hide"]()}});$.dialog=function(b,a){return new Dialog(b,a)};$.fn.dialog=function(b){b=new Dialog(this,b);return this.data("dialogInstance",b)};
$.dialog.alert=function(b,a){new Dialog($("<div>"+b+'<div class="actions"><button class="btn btn-simple dialog-btn-close"><span><span>确定</span></span></button></div></div>'),$.extend({width:330,modal:!0},a))};
$.dialog.confirm=function(b,a,c){new Dialog($("<div>"+b+'<div class="actions"><button class="btn btn-simple dialog-btn-close" data-return="1"><span><span>确定</span></span></button><button class="btn btn-simple dialog-btn-close" data-return="0"><span><span>取消</span></span></button></div></div>'),$.extend({width:330,modal:!0,show:function(b){var c=this;this.close.on("click",function(){parseInt($(this).attr("data-return"),10)&&"function"===$.type(a)&&a.call(c)})}},c))};
$.dialog.image=function(b,a){new Dialog('<img class="image-load-container dialog-btn-close" src="'+b+'">',$.extend({type:'<div class="{body}">{main}</div>',load:function(){var a=this;$(".image-load-container").load(function(){this.width>=$(window).width()&&$(this).width($(window).width()-a.container.patch().x-a.body.patch().x);a.locate()})}},a))};$.dialog.ajax=function(b,a){new Dialog(b,$.extend({async:"ajax",asyncOptions:{type:a.type||"get"}},a))};
$.dialog.iframe=function(b,a){new Dialog(b,$.extend({width:600,useIframeShim:!1,async:"iframe"},a))};$(function(){var b=$("[data-toggle=dialog]"),a=$(b.data("target")||b.attr("href")),c=dataOptions(b,"dialog");if(b.length&&a.length)b.on("click",function(b){b.preventDefault();a.dialog(c)})});
function Message(b,a,c,f){if(!b)return null;isNaN(a)?"function"===$.type(c)?(f=c,c=3):(a=a||"show",c=isNaN(c)?3:c):(c=a,a="show");var h={container:"message-"+a,body:"message-body",content:"message-content",icon:{show:"",success:"&#x25;",error:"&#x21;"}[a]},e=$("#pop_message_"+a);e&&(e=e.data("instance"))&&e.content.html(b).show();new Dialog($("<div>"+b+"</div>"),{id:"pop_message_"+a,type:"nohead",template:$("#message_template"),modal:!1,single:!0,autoHide:c,component:h,show:function(){this.stopTimer()},
close:"function"===$.type(f)?$.proxy(f,this):null})}Message.show=function(b,a,c){Message(b,"show",a,c)};Message.hide=function(b){try{$("#pop_message_"+(b||"show")).data("instance").hide()}catch(a){}};Message.error=function(b,a,c){Message(b,"error",a,c);return!1};Message.success=function(b,a,c){Message(b,"success",a,c);return!0};(function(b){b.fn.AjaxFileUpload=function(a){function c(a){var c=h.onSubmit.call(a.data.element,a.data.filename,a.data.container);if(!1===c)return b(a.target).remove(),a.data.iframe.remove(),!1;for(var e in c)b('<input type="hidden" name="'+e+'" value="'+c[e]+'">').appendTo(a.target)}function f(a){var c=b(a.target),e=b.trim(b((c[0].contentWindow||c[0].contentDocument).document.body).text()),e=e?JSON.parse(e):{};h.onComplete.call(a.data.element,e,a.data.container);a.data.form.remove();c.remove()}var h=
b.extend({},{url:"upload.php",onChange:function(a,b){},onSubmit:function(a,b){},onComplete:function(a,b){}},a),e=function(){var a=0;return function(){return"_AjaxFileUpload"+a++}}();return this.each(function(){var a=b(this);a.on("change","input[type=file]",function(g){var k=b(this).data("size")||h.size,m=b(this).data("remote")||h.url,p=b(this).data("max")||h.limit;g=b(g.target);if(p&&a.find(".img-thumbnail:not(.action-upload)").length+(g[0].multiple&&g[0].files?g[0].files.length:1)>p)alert("超出限制，最多上传"+
p+"张。");else{var l=g.attr("id"),l=g.removeAttr("id").clone().attr("id",l),q=g.val().replace(/.*(\/|\\)/,""),r;r=e();r=b('<iframe src="javascript:false;" width="0" height="0" frameborder="0" name="'+r+'" id="'+r+'" style="display: none;" />').appendTo("body");k=b('<form method="post" action="'+m+'" enctype="multipart/form-data" encoding="multipart/form-data" target="'+r[0].name+'" />').hide().append('<input type="hidden" name="MAX_FILE_SIZE" value="'+(k||"")+'">').append('<input type="hidden" name="FILE_LIMIT" value="'+
(p||"")+'">').appendTo("body");l.insertBefore(g);h.onChange.call(l[0],q,a);r.on("load",{element:l,form:k,container:a},f);k.append(g).on("submit",{element:l,iframe:r,filename:q,container:a},c).submit()}})})}})(jQuery);
$(function(){$(".images-uploader").AjaxFileUpload({onComplete:function(b,a){if(b.error)return alert(b.message);var c=$.makeArray(b.data),f=a.find("input[type=file]").attr("name");$.each(c,function(){a.find(".action-upload").before('<div class="handle img-thumbnail"><i class="icon-close-b action-remove"></i><a href="'+this.url+'" target="_blank"><img src="'+this.url+'"></a><input type="hidden" name="'+f+'" value="'+this.url+'"></div>')});a.on("click",".action-remove",function(a){$(this).parent().remove()});
a.on("mouseover",".img-thumbnail",function(a){$(this).find(".action-remove").show()});a.on("mouseout",".img-thumbnail",function(a){$(this).find(".action-remove").hide()})}})});