var gmu=gmu||{version:"@version",$:window.Zepto,staticCall:function(d){var c=d.fn,e=[].slice,a=d();a.length=1;return function(b,f){a[0]=b;return c[f].apply(a,e.call(arguments,2))}}(Zepto)};
(function(d,c){function e(a,b,c){(a||"").split(h).forEach(function(a){c(a,b)})}function a(a){a=(""+a).split(".");return{e:a[0],ns:a.slice(1).sort().join(" ")}}function b(b,c,f,d){var k,e;e=a(c);e.ns&&(k=RegExp("(?:^| )"+e.ns.replace(" "," .* ?")+"(?: |$)"));return b.filter(function(a){return a&&(!e.e||a.e===e.e)&&(!e.ns||k.test(a.ns))&&(!f||a.cb===f||a.cb._cb===f)&&(!d||a.ctx===d)})}function f(a,b){if(!(this instanceof f))return new f(a,b);b&&c.extend(this,b);this.type=a;return this}var k=[].slice,
h=/\s+/,g=function(){return!1},m=function(){return!0};f.prototype={isDefaultPrevented:g,isPropagationStopped:g,preventDefault:function(){this.isDefaultPrevented=m},stopPropagation:function(){this.isPropagationStopped=m}};d.event={on:function(b,c,f){var d=this,k;if(!c)return this;k=this._events||(this._events=[]);e(b,c,function(b,c){var e=a(b);e.cb=c;e.ctx=f;e.ctx2=f||d;e.id=k.length;k.push(e)});return this},one:function(a,b,c){var f=this;if(!b)return this;e(a,b,function(a,b){var d=function(){f.off(a,
d);return b.apply(c||f,arguments)};d._cb=b;f.on(a,d,c)});return this},off:function(a,c,f){var d=this._events;if(!d)return this;if(!a&&!c&&!f)return this._events=[],this;e(a,c,function(a,c){b(d,a,c,f).forEach(function(a){delete d[a.id]})});return this},trigger:function(a){var c=-1,d,e,h,g,m;if(!this._events||!a)return this;"string"===typeof a&&(a=new f(a));d=k.call(arguments,1);a.args=d;d.unshift(a);if(e=b(this._events,a.type))for(g=e.length;++c<g;)if((h=a.isPropagationStopped())||!1===(m=e[c]).cb.apply(m.ctx2,
d)){h||(a.stopPropagation(),a.preventDefault());break}return this}};d.Event=f})(gmu,gmu.$);
(function(d,c,e){function a(a){return"[object Object]"===r.call(a)}function b(a,b){a&&Object.keys(a).forEach(function(c){b(c,a[c])})}function f(a){for(var b={},c=(a=a&&a.attributes)&&a.length,f,d;c--;)if(d=a[c],f=d.name,"data-"===f.substring(0,5)){f=f.substring(5);d=d.value;try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:/(?:\{[\s\S]*\}|\[[\s\S]*\])$/.test(d)?JSON.parse(d):d}catch(k){d=e}d===e||(b[f]=d)}return b}function k(b){var f=b.substring(0,1).toLowerCase()+b.substring(1),k=c.fn[f];
c.fn[f]=function(f){var k=n.call(arguments,1),h="string"===typeof f&&f,g,m;c.each(this,function(n,l){m=t(l,b)||new d[b](l,a(f)?f:e);if("this"===h)return g=m,!1;if(h){if(!c.isFunction(m[h]))throw Error("组件没有此方法："+h);g=m[h].apply(m,k);if(g!==e&&g!==m)return!1;g=e}});return g!==e?g:this};c.fn[f].noConflict=function(){c.fn[f]=k;return this}}function h(a,f){var d=this;a.superClass&&h.call(d,a.superClass,f);b(t(a,"options"),function(a,b){b.forEach(function(b){var k=b[0];b=b[1];("*"===k||c.isFunction(k)&&
k.call(d,f[a])||k===f[a])&&b.call(d)})})}function g(a,f){var d=this;a.superClass&&g.call(d,a.superClass,f);b(t(a,"plugins"),function(a,k){!1!==f[a]&&(b(k,function(a,b){var f;c.isFunction(b)&&(f=d[a])?d[a]=function(){var a=d.origin,c;d.origin=f;c=b.apply(d,arguments);a===e?delete d.origin:d.origin=a;return c}:d[a]=b}),k._init.call(d))})}function m(){for(var b=n.call(arguments),f=b.length,d;f--;)d=d||b[f],a(b[f])||b.splice(f,1);return b.length?c.extend.apply(null,[!0,{}].concat(b)):d}function l(b,d,
k,n,l){a(n)&&(l=n,n=e);l&&l.el&&(n=c(l.el));n&&(this.$el=c(n),n=this.$el[0]);l=this._options=m(d.options,f(n),l);this.template=m(d.template,l.template);this.tpl2html=m(d.tpl2html,l.tpl2html);this.widgetName=b.toLowerCase();this.eventNs="."+this.widgetName+k;this._init(l);this._options.setup=this.$el&&this.$el.parent()[0]?!0:!1;h.call(this,d,l);g.call(this,d,l);this._create();this.trigger("ready");n&&t(n,b,this)&&this.on("destroy",function(){t(n,b,null)});return this}function p(a,f,k){function h(b,
c){if("Base"===a)throw Error("Base类不能直接实例化");return this instanceof h?l.call(this,a,h,g++,b,c):new h(b,c)}"function"!==typeof k&&(k=d.Base);var g=1,r=1;c.extend(h,{register:function(a,b){var c=t(h,"plugins")||t(h,"plugins",{});b._init=b._init||q;c[a]=b;return h},option:function(a,b,c){var f=t(h,"options")||t(h,"options",{});f[a]||(f[a]=[]);f[a].push([b,c]);return h},inherits:function(b){return p(a+"Sub"+r++,b,h)},extend:function(a){var c=h.prototype,f=k.prototype;s.forEach(function(b){a[b]=m(k[b],
a[b]);a[b]&&(h[b]=a[b]);delete a[b]});b(a,function(a,b){c[a]="function"===typeof b&&f[a]?function(){var $super=this.$super,c;this.$super=function(){var b=n.call(arguments,1);return f[a].apply(this,b)};c=b.apply(this,arguments);$super===e?delete this.$super:this.$super=$super;return c}:b})}});h.superClass=k;h.prototype=Object.create(k.prototype);h.extend(f);return h}var n=[].slice,r=Object.prototype.toString,q=function(){},s=["options","template","tpl2html"],t=function(){var a={},b=0;return function(c,
f,d){c=c._gid||(c._gid=++b);c=a[c]||(a[c]={});d!==e&&(c[f]=d);null===d&&delete c[f];return c[f]}}(),v=d.event;d.define=function(a,b,c){d[a]=p(a,b,c);k(a)};d.isWidget=function(a,b){b=(b="string"===typeof b?d[b]||q:b)||d.Base;return a instanceof b};d.Base=p("Base",{_init:q,_create:q,getEl:function(){return this.$el},on:v.on,one:v.one,off:v.off,trigger:function(a){var b="string"===typeof a?new d.Event(a):a,f=[b].concat(n.call(arguments,1)),k=this._options[b.type],e=this.getEl();k&&c.isFunction(k)&&!1===
k.apply(this,f)&&(b.stopPropagation(),b.preventDefault());v.trigger.apply(this,f);e&&e.triggerHandler(b,(f.shift(),f));return this},tpl2html:function(a,b){var f=this.template,f="string"===typeof a?f[a]:(b=a,f);return b||~f.indexOf("<%")?c.parseTpl(f,b):f},destroy:function(){this.$el&&this.$el.off(this.eventNs);this.trigger("destroy");this.off();this.destroyed=!0}},Object);c.ui=d})(gmu,gmu.$);
(function(d){function c(a,b,c,f){var d=Math.abs(a-b),k=Math.abs(c-f);return d>=k?0<a-b?"Left":"Right":0<c-f?"Up":"Down"}function e(){g=null;b.last&&(b.el.trigger("longTap"),b={})}function a(){f&&clearTimeout(f);k&&clearTimeout(k);h&&clearTimeout(h);g&&clearTimeout(g);f=k=h=g=null;b={}}var b={},f,k,h,g;d(document).ready(function(){var m,l;d(document.body).bind("touchstart",function(a){m=Date.now();l=m-(b.last||m);var c=a.touches[0].target;b.el=d("tagName"in c?c:c.parentNode);f&&clearTimeout(f);b.x1=
a.touches[0].pageX;b.y1=a.touches[0].pageY;0<l&&250>=l&&(b.isDoubleTap=!0);b.last=m;g=setTimeout(e,750)}).bind("touchmove",function(a){g&&clearTimeout(g);g=null;b.x2=a.touches[0].pageX;b.y2=a.touches[0].pageY;10<Math.abs(b.x1-b.x2)&&a.preventDefault()}).bind("touchend",function(e){g&&clearTimeout(g);g=null;b.x2&&30<Math.abs(b.x1-b.x2)||b.y2&&30<Math.abs(b.y1-b.y2)?h=setTimeout(function(){b.el.trigger("swipe");b.el.trigger("swipe"+c(b.x1,b.x2,b.y1,b.y2));b={}},0):"last"in b&&(k=setTimeout(function(){var c=
d.Event("tap");c.cancelTouch=a;b.el.trigger(c);b.isDoubleTap?(b.el.trigger("doubleTap"),b={}):f=setTimeout(function(){f=null;b.el.trigger("singleTap");b={}},250)},0))}).bind("touchcancel",a);d(window).bind("scroll",a)});"swipe swipeLeft swipeRight swipeUp swipeDown doubleTap tap singleTap longTap".split(" ").forEach(function(a){d.fn[a]=function(b){return this.bind(a,b)}})})(Zepto);
(function(d,c){d.extend(d.fn,{fix:function(e){var a=this;if(a.attr("isFixed"))return a;a.css(e).css("position","fixed").attr("isFixed",!0);var b=d('<div style="position:fixed;top:10px;"></div>').appendTo("body"),f=b[0].getBoundingClientRect().top,k=function(){0<window.pageYOffset&&(b[0].getBoundingClientRect().top!==f&&(a.css("position","absolute"),h(),d(window).on("scrollStop",h),d(window).on("ortchange",h)),d(window).off("scrollStop",k),b.remove())},h=function(){a.css({top:window.pageYOffset+(e.bottom!==
c?window.innerHeight-a.height()-e.bottom:e.top||0),left:e.right!==c?document.body.offsetWidth-a.width()-e.right:e.left||0});"100%"==e.width&&a.css("width",document.body.offsetWidth)};d(window).on("scrollStop",k);return a}})})(Zepto);
(function(d){d.extend(d,{throttle:function(c,e,a){function b(){function b(){f=Date.now();e.apply(m,p)}function d(){k=void 0}var m=this,l=Date.now()-f,p=arguments;a&&!k&&b();k&&clearTimeout(k);void 0===a&&l>c?b():k=setTimeout(a?d:b,void 0===a?c-l:c)}var f=0,k;"function"!==typeof e&&(a=e,e=c,c=250);b._zid=e._zid=e._zid||d.proxy(e)._zid;return b},debounce:function(c,e,a){return void 0===e?d.throttle(250,c,!1):d.throttle(c,e,void 0===a?!1:!1!==a)}})})(Zepto);
(function(d,c){function e(){d(c).on("scroll",d.debounce(80,function(){d(c).trigger("scrollStop")},!1))}function a(){d(c).off("scroll");e()}e();d(c).on("pageshow",function(b){b.persisted&&d(c).off("touchstart",a).one("touchstart",a)})})(Zepto,window);
(function(d,c){d.parseTpl=function(c,a){var b="var __p=[];with(obj||{}){__p.push('"+c.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/<%=([\s\S]+?)%>/g,function(a,b){return"',"+b.replace(/\\'/,"'")+",'"}).replace(/<%([\s\S]+?)%>/g,function(a,b){return"');"+b.replace(/\\'/,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+'\');}return __p.join("");',b=new Function("obj",b);return a?b(a):b}})(Zepto);
(function(d,c,e){d.define("Gotop",{options:{container:"",useFix:!1,useHide:!1,useAnimation:!0,position:{bottom:20,right:0},afterScroll:null},_init:function(){var a=this,b,f=a._options,d;c.os.version&&7<=c.os.version.substr(0,3)&&(f.position.bottom=40);a.on("ready",function(){b=a.$el;d=c.proxy(a._eventHandler,a);f.useHide&&c(document).on("touchmove",d);c(window).on("touchend touchcancel scrollStop",d);c(window).on("scroll ortchange",d);b.on("click",d);a.on("destroy",function(){c(window).off("touchend touchcancel scrollStop",
d);c(document).off("touchmove",d);c(window).off("scroll ortchange",d)});f.useFix&&b.fix(f.position);f.root=b[0]});a.on("destroy",function(){a.$el.remove()})},_create:function(){this.$el||(this.$el=c("<div></div>"));this.$el.addClass("ui-gotop").append('<div><i class="icon-top"></i><br/>顶部</div>').appendTo(this._options.container||(this.$el.parent().length?"":document.body));return this},_eventHandler:function(a){var b=this;switch(a.type){case "touchmove":b.hide();break;case "scroll":clearTimeout(b._options._TID);
break;case "touchend":case "touchcancel":clearTimeout(b._options._TID);b._options._TID=setTimeout(function(){b._check.call(b)},300);break;case "scrollStop":b._check();break;case "ortchange":b._check.call(b);break;case "click":b._scrollTo()}},_check:function(a){(a!==e?a:window.pageYOffset)>document.documentElement.clientHeight?this.show():this.hide();return this},_scrollTo:function(){var a=this,b=window.pageYOffset;clearTimeout(a._options._TID);a._options.useAnimation?a._options.moveToTop=setInterval(function(){1<
b?(window.scrollBy(0,-Math.min(150,b-1)),b-=150):(clearInterval(a._options.moveToTop),a.trigger("afterScroll"))},50,!0):(window.scrollTo(0,0.5),a.trigger("afterScroll"));return a},show:function(){this._options.root.style.display="inline-block";return this},hide:function(){this._options.root.style.display="none";return this}})})(gmu,gmu.$);
(function(d,c,e){d.define("backTop",{options:{container:"",useFix:!1,useHide:!1,useAnimation:!0,position:{bottom:30,right:30},afterScroll:null},_init:function(){var a=this,b,f=a._options,d;c.os.version&&7<=c.os.version.substr(0,3)&&(f.position.bottom=40);a.on("ready",function(){b=a.$el;d=c.proxy(a._eventHandler,a);f.useHide&&c(document).on("touchmove",d);c(window).on("touchend touchcancel scrollStop",d);c(window).on("scroll ortchange",d);b.on("click",d);a.on("destroy",function(){c(window).off("touchend touchcancel scrollStop",
d);c(document).off("touchmove",d);c(window).off("scroll ortchange",d)});f.useFix&&b.fix(f.position);f.root=b[0]});a.on("destroy",function(){a.$el.remove()})},_create:function(){this.$el||(this.$el=c("<div></div>"));return this},_eventHandler:function(a){var b=this;switch(a.type){case "touchmove":b.hide();break;case "scroll":clearTimeout(b._options._TID);break;case "touchend":case "touchcancel":clearTimeout(b._options._TID);b._options._TID=setTimeout(function(){b._check.call(b)},300);break;case "scrollStop":b._check();
break;case "ortchange":b._check.call(b);break;case "click":b._scrollTo()}},_check:function(a){(a!==e?a:window.pageYOffset)>document.documentElement.clientHeight?this.show():this.hide();return this},_scrollTo:function(){var a=this,b=window.pageYOffset;clearTimeout(a._options._TID);a._options.useAnimation?a._options.moveToTop=setInterval(function(){1<b?(window.scrollBy(0,-Math.min(150,b-1)),b-=150):(clearInterval(a._options.moveToTop),a.trigger("afterScroll"))},50,!0):(window.scrollTo(0,0.5),a.trigger("afterScroll"));
return a},show:function(){this._options.root.style.display="inline-block";return this},hide:function(){return this}})})(gmu,gmu.$);
(function(d,c,e){var a=c.fx.cssPrefix,b=c.fx.transitionEnd;d.define("Slider",{options:{loop:!0,speed:400,index:0,selector:{container:".ui-slider-group"}},template:{item:'<div class="ui-slider-item"><a href="<%= href %>"><img src="<%= pic %>" alt="" /></a><% if( title ) { %><p><%= title %></p><% } %></div>'},_create:function(){var a=this,d=a.getEl(),e=a._options;a.index=e.index;a._initDom(d,e);a._initWidth(d,a.index);a._container.on(b+a.eventNs,c.proxy(a._tansitionEnd,a));c(window).on("ortchange"+
a.eventNs,function(){a._initWidth(d,a.index)})},_initDom:function(a,b){var d=b.viewNum||1,e,m;m=a.find(b.selector.container);m.length||(m=c("<div></div>"),b.content?this._createItems(m,b.content):a.is("ul")?(this.$el=m.insertAfter(a),m=a,a=this.$el):m.append(a.children()),m.appendTo(a));(e=m.children()).length<d+1&&(b.loop=!1);for(;b.loop&&m.children().length<3*d;)m.append(e.clone());this.length=m.children().length;this._items=(this._container=m).addClass("ui-slider-group").children().addClass("ui-slider-item").toArray();
this.trigger("done.dom",a.addClass("ui-slider"),b)},_createItems:function(a,b){for(var c=0,d=b.length;c<d;c++)a.append(this.tpl2html("item",b[c]))},_initWidth:function(a,b,c){var d;if(c||(d=a.width())!==this.width)this.width=d,this._arrange(d,b),this.height=a.height(),this.trigger("width.change")},_arrange:function(a,b){var c=this._items,d=0,e,l;this._slidePos=Array(c.length);for(l=c.length;d<l;d++)e=c[d],e.style.cssText+="width:"+a+"px;left:"+d*-a+"px;",e.setAttribute("data-index",d),this._move(d,
d<b?-a:d>b?a:0,0);this._container.css("width",a*l)},_move:function(a,b,c,d){var e=this._slidePos,l=this._items;e[a]!==b&&l[a]&&(this._translate(a,b,c),e[a]=b,d&&l[a].clientLeft)},_translate:function(b,c,d){b=(b=this._items[b])&&b.style;if(!b)return!1;b.cssText+=a+"transition-duration:"+d+"ms;"+a+"transform: translate("+c+"px, 0) translateZ(0);"},_circle:function(a,b){var c;b=b||this._items;c=b.length;return(a%c+c)%b.length},_tansitionEnd:function(a){~~a.target.getAttribute("data-index")===this.index&&
this.trigger("slideend",this.index)},_slide:function(a,b,c,d,e,l){b=this._circle(a-c*b);l.loop||(c=Math.abs(a-b)/(a-b));this._move(b,-c*d,0,!0);this._move(a,d*c,e);this._move(b,0,e);this.index=b;return this.trigger("slide",b,a)},slideTo:function(a,b){if(this.index===a||this.index===this._circle(a))return this;var c=this._options,d=this.index,e=Math.abs(d-a),l=this.width;b=b||c.speed;return this._slide(d,e,e/(d-a),l,b,c)},prev:function(){(this._options.loop||0<this.index)&&this.slideTo(this.index-
1);return this},next:function(){(this._options.loop||this.index+1<this.length)&&this.slideTo(this.index+1);return this},getIndex:function(){return this.index},destroy:function(){this._container.off(this.eventNs);c(window).off("ortchange"+this.eventNs);return this.$super("destroy")}})})(gmu,gmu.$);
(function(d,c,e){c.extend(!0,d.Slider,{template:{prev:'<span class="ui-slider-pre"><i class="icon-back"></i></span>',next:'<span class="ui-slider-next"><i class="icon-forward"></i></span>'},options:{arrow:!0,select:{prev:".ui-slider-pre",next:".ui-slider-next"}}});d.Slider.option("arrow",!0,function(){var a=this,b=["prev","next"];this.on("done.dom",function(d,e,h){var g=h.selector;b.forEach(function(b){var d=e.find(g[b]);d.length||e.append(d=c(a.tpl2html(b)));a["_"+b]=d})});this.on("ready",function(){b.forEach(function(b){a["_"+
b].on("tap"+a.eventNs,function(){a[b].call(a)})})});this.on("destroy",function(){a._prev.off(a.eventNs);a._next.off(a.eventNs)})})})(gmu,gmu.$);
(function(d,c,e){c.extend(!0,d.Slider,{template:{dots:'<p class="ui-slider-dots"><%= new Array( len + 1 ).join("<b></b>") %></p>'},options:{dots:!0,selector:{dots:".ui-slider-dots"}}});d.Slider.option("dots",!0,function(){var a=function(a,c){var e=this._dots;"undefined"===typeof c||d.staticCall(e[c%this.length],"removeClass","ui-state-active");d.staticCall(e[a%this.length],"addClass","ui-state-active")};this.on("done.dom",function(a,d,e){a=d.find(e.selector.dots);a.length||(a=this.tpl2html("dots",
{len:this.length}),a=c(a).appendTo(d));this._dots=a.children().toArray()});this.on("slide",function(b,c,d){a.call(this,c,d)});this.on("ready",function(){a.call(this,this.index)})})})(gmu,gmu.$);
(function(d,c,e){var a,b,f,k,h,g={touchstart:"_onStart",touchmove:"_onMove",touchend:"_onEnd",touchcancel:"_onEnd",click:"_onClick"},m,l;c.extend(d.Slider.options,{stopPropagation:!1,disableScroll:!1});d.Slider.register("touch",{_init:function(){var a=this,b=a.getEl();a._handler=function(b){a._options.stopPropagation&&b.stopPropagation();return g[b.type]&&a[g[b.type]].call(a,b)};a.on("ready",function(){b.on("touchstart"+a.eventNs,a._handler);a._container.on("click"+a.eventNs,a._handler)})},_onClick:function(){return!l},
_onStart:function(c){if(1<c.touches.length)return!1;var d=c.touches[0];c=this._options;var g=this.eventNs;f=d.pageX;k=d.pageY;h=+new Date;b=a=void 0;l=!1;m=e;d=c.viewNum||1;this._move(c.loop?this._circle(this.index-d):this.index-d,-this.width,0,!0);this._move(c.loop?this._circle(this.index+d):this.index+d,this.width,0,!0);this.$el.on("touchmove"+g+" touchend"+g+" touchcancel"+g,this._handler)},_onMove:function(c){if(1<c.touches.length||c.scale&&1!==c.scale)return!1;var d=this._options,e=d.viewNum||
1,h=c.touches[0],g=this.index;d.disableScroll&&c.preventDefault();a=h.pageX-f;b=h.pageY-k;"undefined"===typeof m&&(m=Math.abs(a)<Math.abs(b));if(!m){c.preventDefault();d.loop||(a/=!g&&0<a||g===this._items.length-1&&0>a?Math.abs(a)/this.width+1:1);h=this._slidePos;c=g-e;for(e=g+2*e;c<e;c++)g=d.loop?this._circle(c):c,this._translate(g,a+h[g],0);l=!0}},_onEnd:function(){this.$el.off("touchmove"+this.eventNs+" touchend"+this.eventNs+" touchcancel"+this.eventNs,this._handler);if(l){var b=this._options,
c=b.viewNum||1,d=this.index,f=this._slidePos,e=+new Date-h,k=Math.abs(a),g=!b.loop&&(!d&&0<a||d===f.length-c&&0>a),m=0<a?1:-1,u;if((u=250>e?Math.min(Math.round(k/e*c*1.2),c):Math.round(k/(this.perWidth||this.width)))&&!g)this._slide(d,u,m,this.width,b.speed,b,!0),1<c&&250<=e&&Math.ceil(k/this.perWidth)!==u&&(this.index<d?this._move(this.index-1,-this.perWidth,b.speed):this._move(this.index+c,this.width,b.speed));else for(e=d-c,c=d+2*c;e<c;e++)d=b.loop?this._circle(e):e,this._translate(d,f[d],b.speed)}}})})(gmu,
gmu.$);
(function(d,c){c.extend(!0,d.Slider,{options:{autoPlay:!0,interval:4E3}});d.Slider.register("autoplay",{_init:function(){this.on("slideend ready",this.resume).on("destory",this.stop);this.getEl().on("touchstart"+this.eventNs,c.proxy(this.stop,this)).on("touchend"+this.eventNs,c.proxy(this.resume,this))},resume:function(){var c=this,a=c._options;a.autoPlay&&!c._timer&&(c._timer=setTimeout(function(){c.slideTo(c.index+1);c._timer=null},a.interval));return c},stop:function(){this._timer&&(clearTimeout(this._timer),this._timer=
null);return this}})})(gmu,gmu.$);
(function(d){d.Slider.template.item='<div class="ui-slider-item"><a href="<%= href %>"><img lazyload="<%= pic %>" alt="" /></a><% if( title ) { %><p><%= title %></p><% } %></div>';d.Slider.register("lazyloadimg",{_init:function(){this.on("ready slide",this._loadItems)},_loadItems:function(){for(var c=this._options,d=c.loop,a=c.viewNum||1,b=this.index,c=b-a,a=b+2*a;c<a;c++)this.loadImage(d?this._circle(c):c)},loadImage:function(c){c=this._items[c];var e;if(!c||(e=d.staticCall(c,"find","img[lazyload]"),
!e.length))return this;e.each(function(){this.src=this.getAttribute("lazyload");this.removeAttribute("lazyload")})}})})(gmu);
(function(d){function c(){var d=a.attr("hl-cls");clearTimeout(b);a.removeClass(d).removeAttr("hl-cls");a=null;e.off("touchend touchmove touchcancel",c)}var e=d(document),a,b;d.fn.highlight=function(f,k){return this.each(function(){var h=d(this);h.css("-webkit-tap-highlight-color","rgba(255,255,255,0)").off("touchstart.hl");f&&h.on("touchstart.hl",function(g){a=h;k&&(g=d(g.target).closest(k,this),g.length&&(a=g));a&&(a.attr("hl-cls",f),b=setTimeout(function(){a.addClass(f)},10),e.on("touchend touchmove touchcancel",
c))})})}})(Zepto);
(function(d,c){var e=0;gmu.define("Suggestion",{options:{historyShare:!0,confirmClearHistory:!0,autoClose:!1},template:{wrapper:'<div class="ui-suggestion"><div class="ui-suggestion-content"></div><div class="ui-suggestion-button"><span class="ui-suggestion-clear">清除历史记录</span><span class="ui-suggestion-close">关闭</span></div></div>'},_initDom:function(){var a=this.getEl().attr("autocomplete","off"),b=a.parent(".ui-suggestion-mask");b.length?this.$mask=b:a.wrap(this.$mask=d('<div class="ui-suggestion-mask"></div>'));this.$mask.append(this.tpl2html("wrapper"));
this.$wrapper=this.$mask.find(".ui-suggestion").prop("id","ui-suggestion-"+e++);this.$content=this.$wrapper.css("top",a.height()+(this.wrapperTop=parseInt(this.$wrapper.css("top"),10)||0)).find(".ui-suggestion-content");this.$btn=this.$wrapper.find(".ui-suggestion-button");this.$clearBtn=this.$btn.find(".ui-suggestion-clear");this.$closeBtn=this.$btn.find(".ui-suggestion-close");return this.trigger("initdom")},_bindEvent:function(){var a=this,b=a.getEl(),c=a.eventNs;a._options.autoClose&&d(document).on("tap"+
c,function(b){!d.contains(a.$mask.get(0),b.target)&&a.hide()});b.on("focus"+c,function(){!a.isShow&&a._showList().trigger("open")});b.on("input"+c,function(){a._showList()});a.$clearBtn.on("click"+c,function(){a.history(null)}).highlight("ui-suggestion-highlight");a.$closeBtn.on("click"+c,function(){a.getEl().blur();a.hide().trigger("close")}).highlight("ui-suggestion-highlight");return a},_create:function(){var a=this._options,b=a.historyShare;a.container&&(this.$el=d(a.container));this.key=b?("boolean"===
d.type(b)?"":b+"-")+"SUG-Sharing-History":this.getEl().attr("id")||"ui-suggestion-"+e++;this.separator=encodeURIComponent(",");this._initDom()._bindEvent();return this},_showList:function(){var a=this.value(),b;a?this.trigger("sendrequest",a,d.proxy(this._render,this),d.proxy(this._cacheData,this)):(b=this._localStorage())?this._render(a,b.split(this.separator)):this.hide();return this},_render:function(a,b){this.trigger("renderlist",b,a,d.proxy(this._fillWrapper,this))},_fillWrapper:function(a){this.$clearBtn[this.value()?
"hide":"show"]();a?(this.$content.html(a),this.show()):this.hide();return this},_localStorage:function(a){var b=this.key,f=this.separator,e,h;try{e=c.localStorage;if(void 0===a)return e[b];null===a?e[b]="":a&&(h=e[b]?e[b].split(f):[],~d.inArray(a,h)||(h.unshift(a),e[b]=h.join(f)))}catch(g){console.log(g.message)}return this},_cacheData:function(a,b){this.cacheData||(this.cacheData={});return void 0!==b?this.cacheData[a]=b:this.cacheData[a]},value:function(){return this.getEl().val()},history:function(a){var b=
this,d=null!==a||function(){return b._localStorage(null).hide()};return null===a?b._options.confirmClearHistory?c.confirm("清除全部查询历史记录？")&&d():d():b._localStorage(a)},show:function(){if(this.isShow)return this;this.$wrapper.show();this.isShow=!0;return this.trigger("show")},hide:function(){return this.isShow?(this.$wrapper.hide(),this.isShow=!1,this.trigger("hide")):this},destroy:function(){var a=this.getEl(),b=this.ns;this.trigger("destroy");a.off(b);this.$mask.replaceWith(a);this.$clearBtn.off(b);
this.$closeBtn.off(b);this.$wrapper.children().off().remove();this.$wrapper.remove();this._options.autoClose&&d(document).off(b);this.destroyed=!0;return this}})})(gmu.$,window);
(function(d,c){d.extend(gmu.Suggestion.options,{isCache:!0,queryKey:"wd",cbKey:"cb",sendrequest:null});gmu.Suggestion.option("sendrequest",function(){return"function"!==d.type(this._options.sendrequest)},function(){var e=this,a=e._options,b=a.queryKey,f=a.cbKey,k=a.param,h=a.isCache,g;this.on("sendrequest",function(m,l,p,n){m=a.source;var r="suggestion_"+ +new Date;if(h&&(g=n(l)))return p(l,g),e;m=(m+"&"+b+"="+encodeURIComponent(l)).replace(/[&?]{1,2}/,"?");!~m.indexOf("&"+f)&&(m+="&"+f+"="+r);k&&
(m+="&"+k);c[r]=function(a){p(l,a.s);h&&n(l,a.s);delete c[r]};d.ajax({url:m,dataType:"jsonp"});return e})})})(gmu.$,window);
(function(d){d.extend(gmu.Suggestion.options,{isHistory:!0,usePlus:!1,listCount:5,renderlist:null});gmu.Suggestion.option("renderlist",function(){return"function"!==d.type(this._options.renderlist)},function(){var c=this,e=d("<div></div>");c.on("ready",function(){var a=this,b=a.eventNs,c=d(a._options.form||a.getEl().closest("form"));c.size()&&(a.$form=c.on("submit"+b,function(b){var c=gmu.Event("submit");a._options.isHistory&&a._localStorage(a.value());a.trigger(c);c.isDefaultPrevented()&&b.preventDefault()}));
a.$content.on("touchstart"+b,function(a){a.preventDefault()});a.$content.on("tap"+b,function(b){var c=a.getEl(),e=d(b.target);e.hasClass("ui-suggestion-plus")?c.val(e.attr("data-item")):d.contains(a.$content.get(0),e.get(0))&&setTimeout(function(){c.val(e.text());a.trigger("select",e).hide().$form.submit()},400)}).highlight("ui-suggestion-highlight");a.on("destroy",function(){c.size()&&c.off(b);a.$content.off()})});c.on("renderlist",function(a,b,f,k){a=f;f=c._options;var h=[],g="",m,l,p;if(b&&b.length)for(b=
b.slice(0,f.listCount),a=e.text(a||"").html(),p=0,l=b.length;p<l;p++)g=m=b[p],g=e.text(g).html(),a&&(g=d.trim(m).replace(a,"<span>"+a+"</span>")),f.usePlus&&(g+='<div class="ui-suggestion-plus" data-item="'+m+'"></div>'),h.push("<li>"+g+"</li>");else c.hide();return k(h.length?"<ul>"+h.join(" ")+"</ul>":"")})})})(gmu.$);
(function(d,c){d.Suggestion.register("quickdelete",{_init:function(){var d=this,a,b;d.on("ready",function(){a=d.getEl();b=d.eventNs;d.$mask.append(d.$quickDel=c('<div class="ui-suggestion-quickdel"></div>'));a.on("focus"+b+" input"+b,function(){d["_quickDel"+(c.trim(a.val())?"Show":"Hide")]()});a.on("blur"+b,function(){d._quickDelHide()});d.$quickDel.on("touchstart"+b,function(b){b.preventDefault();b.formDelete=!0;a.val("");d.trigger("delete").trigger("input")._quickDelHide();a.blur().focus()});d.on("destroy",
function(){d.$quickDel.off().remove()})})},_quickDelShow:function(){this.quickDelShow||(d.staticCall(this.$quickDel.get(0),"css","visibility","visible"),this.quickDelShow=!0)},_quickDelHide:function(){this.quickDelShow&&(d.staticCall(this.$quickDel.get(0),"css","visibility","hidden"),this.quickDelShow=!1)}})})(gmu,gmu.$);
(function(d,c,e){d.define("Popover",{options:{container:null,content:null,event:"click"},template:{frame:"<div>"},_create:function(){var a=this._options,b=a.target&&c(a.target)||this.getEl(),d=a.container&&c(a.container);d&&d.length||(d=c(this.tpl2html("frame")).addClass("ui-mark-temp"));this.$root=d;a.content&&this.setContent(a.content);this.trigger("done.dom",d.addClass("ui-"+this.widgetName),a);d.parent().length||b.after(d);this.target(b)},_checkTemp:function(a){a.is(".ui-mark-temp")&&a.off(this.eventNs)&&
a.remove()},show:function(){var a=d.Event("beforeshow");this.trigger(a);if(!a.isDefaultPrevented())return this.trigger("placement",this.$root.addClass("ui-in"),this.$target),this._visible=!0,this.trigger("show")},hide:function(){var a=new d.Event("beforehide");this.trigger(a);if(!a.isDefaultPrevented())return this.$root.removeClass("ui-in"),this._visible=!1,this.trigger("hide")},toggle:function(){return this[this._visible?"hide":"show"].apply(this,arguments)},target:function(a){if(a===e)return this.$target;
var b=this;a=c(a);var d=b.$target,k=b._options.event+b.eventNs;d&&d.off(k);b.$target=a.on(k,function(a){a.preventDefault();b.toggle()});return b},setContent:function(a){this.$root.empty().append(a);return this},destroy:function(){this.$target.off(this.eventNs);this._checkTemp(this.$root);return this.$super("destroy")}})})(gmu,gmu.$);
(function(d){d=d.Popover;d.template.arrow='<span class="ui-arrow"></span>';d.options.arrow=!0;d.option("arrow",!0,function(){var c=this,d=c._options;d.offset=d.offset||function(a,b){b=b.split("_")[0];return{left:15*("left"===b?-1:"right"===b?1:0),top:15*("top"===b?-1:"bottom"===b?1:0)}};c.on("done.dom",function(a,b){b.append(c.tpl2html("arrow")).addClass("ui-pos-default")});c.on("after.placement",function(a,b,c){a=this.$root[0];b=c.placement;c=c.align||"";a.className=a.className.replace(/(?:\s|^)ui-pos-[^\s$]+/g,
"")+" ui-pos-"+b+(c?"-"+c:"")})})})(gmu);
(function(d,c){d.define("Dropmenu",{options:{content:null},template:{item:'<li><a <% if ( href ) { %>href="<%= href %>"<% } %>><% if ( icon ) { %><span class="icon icon-<%= icon %>"></span><% } %><%= text %></a></li>',divider:'<li class="divider"></li>',wrap:"<ul>"},_init:function(){var c=this;c.on("done.dom",function(a,b){c.$list=b.find("ul").first().addClass("ui-dropmenu-items").highlight("ui-state-hover",".ui-dropmenu-items>li:not(.divider)")})},_create:function(){var e=this,a=e._options,b="";
"array"===c.type(a.content)&&(a.content.forEach(function(a){a=c.extend({href:"",icon:"",text:""},"string"===typeof a?{text:a}:a);b+=e.tpl2html("divider"===a.text?"divider":"item",a)}),a.content=c(e.tpl2html("wrap")).append(b));e.$super("_create");e.$list.on("click"+e.eventNs,".ui-dropmenu-items>li:not(.ui-state-disable):not(.divider)",function(a){a=d.Event("itemclick",a);e.trigger(a,this);a.isDefaultPrevented()})}},d.Popover)})(gmu,gmu.$);
(function(d){function c(b){return this.each(function(c){var e=d(this),h=d.isFunction(b)?b.call(this,c,e.offset()):b,g=e.css("position"),m="absolute"===g||"fixed"===g||e.position();"relative"===g&&(m.top-=parseFloat(e.css("top"))||-1*parseFloat(e.css("bottom"))||0,m.left-=parseFloat(e.css("left"))||-1*parseFloat(e.css("right"))||0);parentOffset=e.offsetParent().offset();props={top:a(h.top-(m.top||0)-parentOffset.top),left:a(h.left-(m.left||0)-parentOffset.left)};"static"==g&&(props.position="relative");
h.using?h.using.call(this,props,c):e.css(props)})}var e=d.fn.offset,a=Math.round;d.fn.offset=function(a){return a?c.call(this,a):e.call(this)}})(Zepto);
(function(d,c){function e(a,b){return(parseInt(a,10)||0)*(p.test(a)?b/100:1)}function a(a,b,c,d,f){return["right"===a[0]?c:"center"===a[0]?(c+e(f.left,c)+e(f.right,c))/2:0,"bottom"===a[1]?d:"center"===a[1]?(d+e(f.top,c)+e(f.bottom,c))/2:0,e(b[0],c),e(b[1],d)]}function b(a){var b=a[0],c=b.preventDefault,b=b.touches&&b.touches[0]||b;return 9===b.nodeType||b===window||c?{width:c?0:a.width(),height:c?0:a.height(),top:b.pageYOffset||b.pageY||0,left:b.pageXOffset||b.pageX||0}:a.offset()}function f(a){var c=
d(a||window),e=b(c);a=c[0];return{$el:c,width:e.width,height:e.height,scrollLeft:a.pageXOffset||a.scrollLeft,scrollTop:a.pageYOffset||a.scrollTop}}function k(a,b){["my","at"].forEach(function(c){var d=(a[c]||"").split(" "),e=a[c]=["center","center"];c=b[c]=[0,0];1===d.length&&d[l.test(d[0])?"unshift":"push"]("center");m.test(d[0])&&(e[0]=RegExp.$1)&&(c[0]=RegExp.$2);l.test(d[1])&&(e[1]=RegExp.$1)&&(c[1]=RegExp.$2)})}var h=d.fn.position,g=Math.round,m=/^(left|center|right)([\+\-]\d+%?)?$/,l=/^(top|center|bottom)([\+\-]\d+%?)?$/,
p=/%$/;d.fn.position=function(c){if(!c||!c.of)return h.call(this);c=d.extend({},c);var e=d(c.of),l=e[0]===window?d(document.body):e,m=c.collision,p=m&&f(c.within),v={},w=b(e),u={left:w.left,top:w.top},l={left:l.css("margin-left"),right:l.css("margin-right"),top:l.css("margin-top"),bottom:l.css("margin-bottom")};e[0].preventDefault&&(c.at="left top");k(c,v);e=a(c.at,v.at,w.width,w.height,l);u.left+=e[0]+e[2];u.top+=e[1]+e[3];return this.each(function(){var b=d(this),e={left:b.css("margin-left"),right:b.css("margin-right"),
top:b.css("margin-top"),bottom:b.css("margin-bottom")},f=b.offset(),k=d.extend({},u),e=a(c.my,v.my,f.width,f.height,e);k.left=g(k.left+e[2]-e[0]-("fixed"===b.css("position")?w.left:0));k.top=g(k.top+e[3]-e[1]-("fixed"===b.css("position")?w.top:0));m&&m.call(this,k,{of:w,offset:f,my:c.my,at:c.at,within:p,$el:b});k.using=c.using;b.offset(k)})}})(Zepto);
(function(d,c,e){d.define("Dialog",{options:{autoOpen:!0,buttons:null,closeBtn:!0,mask:!0,height:"auto",title:null,content:null,scrollMove:!0,container:null,maskClick:null,position:null},getWrap:function(){return this._options._wrap},_init:function(){var a=this,b=a._options,d,e=0,h=c.proxy(a._eventHandler,a),g={};a.on("ready",function(){b._container=c(b.container||document.body);(b._cIsBody=b._container.is("body"))||b._container.addClass("ui-dialog-container");g.btns=d=[];b.buttons&&c.each(b.buttons,
function(a){d.push({index:++e,text:a,key:a})});b._mask=b.mask?c('<div class="ui-mask"></div>').appendTo(b._container):null;b._wrap=c(c.parseTpl('<div class="ui-dialog"><div class="ui-dialog-content"></div><% if(btns){ %><div class="ui-dialog-btns"><% for(var i=0, length=btns.length; i<length; i++){var item = btns[i]; %><a class="ui-btn ui-btn-<%=item.index%>" data-key="<%=item.key%>"><%=item.text%></a><% } %></div><% } %></div> ',g)).appendTo(b._container);b._content=c(".ui-dialog-content",b._wrap);
b._title=c('<div class="ui-dialog-title"><h3><%=title%></h3></div>');b._close=b.closeBtn&&c('<a class="ui-dialog-close" title="关闭"><span class="ui-icon ui-icon-delete">×</span></a>').highlight("ui-dialog-close-hover");a.$el=a.$el||b._content;a.title(b.title);a.content(b.content);d.length&&c(".ui-dialog-btns .ui-btn",b._wrap).highlight("ui-state-hover");b._wrap.css({width:b.width,height:b.height});c(window).on("ortchange",h);b._wrap.on("click",h);b._mask&&b._mask.on("click",h);b.autoOpen&&a.open()})},
_create:function(){var a=this._options;this._options.setup&&(a.content=a.content||this.$el.show(),a.title=a.title||this.$el.attr("title"))},_eventHandler:function(a){var b,d,e=this._options;switch(a.type){case "ortchange":this.refresh();break;case "touchmove":e.scrollMove&&a.preventDefault();break;case "click":if(e._mask&&(c.contains(e._mask[0],a.target)||e._mask[0]===a.target))return this.trigger("maskClick");d=e._wrap.get(0);(b=c(a.target).closest(".ui-dialog-close",d))&&b.length?this.close():(b=
c(a.target).closest(".ui-dialog-btns .ui-btn",d))&&b.length&&(b=e.buttons[b.attr("data-key")])&&b.apply(this,arguments)}},_calculate:function(){var a=this._options,b;b=document.body;var d={},e=a._cIsBody,h=Math.round;a.mask&&(d.mask=e?{width:"100%",height:Math.max(b.scrollHeight,b.clientHeight)-1}:{width:"100%",height:"100%"});a=a._wrap.offset();b=c(window);d.wrap={left:"50%",marginLeft:-h(a.width/2)+"px",top:e?h(b.height()/2)+window.pageYOffset:"50%",marginTop:-h(a.height/2)+"px"};return d},refresh:function(){var a=
this,b=a._options,d,e;b._isOpen&&(e=function(){d=a._calculate();d.mask&&b._mask.css(d.mask);b._wrap.css(d.wrap)},c.os.ios&&document.activeElement&&/input|textarea|select/i.test(document.activeElement.tagName)?(document.body.scrollLeft=0,setTimeout(e,200)):e());return a},open:function(a,b){var d=this._options;d._isOpen=!0;d._wrap.css("display","block");d._mask&&d._mask.css("display","block");a!==e&&this.position?this.position(a,b):this.refresh();c(document).on("touchmove",c.proxy(this._eventHandler,
this));return this.trigger("open")},close:function(){var a,b=this._options;a=c.Event("beforeClose");this.trigger(a);if(a.defaultPrevented)return this;b._isOpen=!1;b._wrap.css("display","none");b._mask&&b._mask.css("display","none");c(document).off("touchmove",this._eventHandler);return this.trigger("close")},title:function(a){var b=this._options,c=a!==e;c&&(a=(b.title=a)?"<h3>"+a+"</h3>":a,b._title.html(a)[a?"prependTo":"remove"](b._wrap),b._close&&b._close.prependTo(b.title?b._title:b._wrap));return c?
this:b.title},content:function(a){var b=this._options,c=a!==e;c&&b._content.empty().append(b.content=a);return c?this:b.content},destroy:function(){var a=this._options,b=this._eventHandler;c(window).off("ortchange",b);c(document).off("touchmove",b);a._wrap.off("click",b).remove();a._mask&&a._mask.off("click",b).remove();a._close&&a._close.highlight();return this.$super("destroy")}})})(gmu,gmu.$);
(function(d,c,e){d.Dialog.register("position",{_init:function(){var a=this._options;a.position=a.position||{of:a.container||window,at:"center",my:"center"}},position:function(a,b){var d=this._options;c.isPlainObject(a)?c.extend(d.position,a):d.position.at="left"+(0<a?"+"+a:a)+" top"+(0<b?"+"+b:b);return this.refresh()},_calculate:function(){var a=this._options,b=a.position,d=this.origin();a._wrap.position(c.extend(b,{using:function(a){d.wrap=a}}));return d}})})(gmu,gmu.$);
(function(d,c,e){var a=1,b=/^#(.+)$/;d.define("Tabs",{options:{active:0,items:null,transition:"slide"},template:{nav:'<ul class="ui-tabs-nav"><% var item; for(var i=0, length=items.length; i<length; i++) { item=items[i]; %><li<% if(i==active){ %> class="ui-state-active"<% } %>><a href="javascript:;"><%=item.title%></a></li><% } %></ul>',content:'<div class="ui-viewport ui-tabs-content"><% var item; for(var i=0, length=items.length; i<length; i++) { item=items[i]; %><div<% if(item.id){ %> id="<%=item.id%>"<% } %> class="ui-tabs-panel <%=transition%><% if(i==active){ %> ui-state-active<% } %>"><%=item.content%></div><% } %></div>'},
_init:function(){var a=this,b=a._options,d,e=c.proxy(a._eventHandler,a);a.on("ready",function(){d=a.$el;d.addClass("ui-tabs");b._nav.on("tap",e).children().highlight("ui-state-hover")});c(window).on("ortchange",e)},_create:function(){var a=this._options;this._options.setup&&0<this.$el.children().length?this._prepareDom("setup",a):(a.setup=!1,this.$el=this.$el||c("<div></div>"),this._prepareDom("create",a))},_prepareDom:function(d,e){var h=this,g=h.$el,m,l,p,n;switch(d){case "setup":if(e._nav=h._findElement("ul").first(),
e._nav){e._content=h._findElement("div.ui-tabs-content");e._content=(e._content&&e._content.first()||c("<div></div>").appendTo(g)).addClass("ui-viewport ui-tabs-content");m=[];e._nav.addClass("ui-tabs-nav").children().each(function(){var d=h._findElement("a",this),f=d?d.attr("href"):c(this).attr("data-url"),l,g;l=b.test(f)?RegExp.$1:"tabs_"+a++;(g=h._findElement("#"+l)||c('<div id="'+l+'"></div>')).addClass("ui-tabs-panel"+(e.transition?" "+e.transition:"")).appendTo(e._content);m.push({id:l,href:f,
title:d?d.attr("href","javascript:;").text():c(this).text(),content:g})});e.items=m;e.active=Math.max(0,Math.min(m.length-1,e.active||c(".ui-state-active",e._nav).index()||0));h._getPanel().add(e._nav.children().eq(e.active)).addClass("ui-state-active");break}default:m=e.items=e.items||[],l=[],p=[],e.active=Math.max(0,Math.min(m.length-1,e.active)),c.each(m,function(b,c){n="tabs_"+a++;l.push({href:c.href||"#"+n,title:c.title});p.push({content:c.content||"",id:n});m[b].id=n}),e._nav=c(this.tpl2html("nav",
{items:l,active:e.active})).prependTo(g),e._content=c(this.tpl2html("content",{items:p,active:e.active,transition:e.transition})).appendTo(g),e.container=e.container||(g.parent().length?null:"body")}e.container&&g.appendTo(e.container);h._fitToContent(h._getPanel())},_getPanel:function(a){var b=this._options;return c("#"+b.items[a===e?b.active:a].id)},_findElement:function(a,b){var d=c(b||this.$el).find(a);return d.length?d:null},_eventHandler:function(a){var b,d=this._options;switch(a.type){case "ortchange":this.refresh();
break;default:(b=c(a.target).closest("li",d._nav.get(0)))&&b.length&&(a.preventDefault(),this.switchTo(b.index()))}},_fitToContent:function(a){var b=this._options,c=b._content;b._plus===e&&(b._plus=parseFloat(c.css("border-top-width"))+parseFloat(c.css("border-bottom-width")));c.height(a.height()+b._plus);return this},switchTo:function(a){var b=this,e=b._options,g=e.items,m,l,p;if(!e._buzy&&e.active!=(a=Math.max(0,Math.min(g.length-1,a)))){m=c.extend({},g[a]);m.div=b._getPanel(a);m.index=a;l=c.extend({},
g[e.active]);l.div=b._getPanel();l.index=e.active;g=d.Event("beforeActivate");b.trigger(g,m,l);if(g.isDefaultPrevented())return b;e._content.children().removeClass("ui-state-active");m.div.addClass("ui-state-active");e._nav.children().removeClass("ui-state-active").eq(m.index).addClass("ui-state-active");e.transition&&(e._buzy=!0,p=c.fx.animationEnd+".tabs",g=a>e.active?"":" reverse",e._content.addClass("ui-viewport-transitioning"),l.div.addClass("out"+g),m.div.addClass("in"+g).on(p,function(a){a.target==
a.currentTarget&&(m.div.off(p,arguments.callee),e._buzy=!1,l.div.removeClass("out reverse"),m.div.removeClass("in reverse"),e._content.removeClass("ui-viewport-transitioning"),b.trigger("animateComplete",m,l),b._fitToContent(m.div))}));e.active=a;b.trigger("activate",m,l);e.transition||b._fitToContent(m.div)}return b},refresh:function(){return this._fitToContent(this._getPanel())},destroy:function(){var a=this._options,b=this._eventHandler;a._nav.off("tap",b).children().highlight();a.swipe&&a._content.off("swipeLeft swipeRight",
b);a.setup||this.$el.remove();return this.$super("destroy")}})})(gmu,gmu.$);
(function(d,c){function e(){d(document).on("touchstart.tabs",function(e){var l=e.touches?e.touches[0]:e,g,n;g={x:l.clientX,y:l.clientY,time:Date.now(),el:d(e.target)};d(document).on("touchmove.tabs",function(a){var b=a.touches?a.touches[0]:a,c;if(g)if(n={x:b.clientX,y:b.clientY,time:Date.now()},(c=Math.abs(g.x-n.x))>k||c>Math.abs(g.y-n.y)){a:{b=a.target;for(c=h.length;c--;)if(d.contains(h[c],b)){b=!0;break a}b=!1}b&&a.preventDefault()}else d(document).off("touchmove.tabs touchend.tabs")}).one("touchend.tabs",function(){d(document).off("touchmove.tabs");
g&&n&&n.time-g.time<a&&Math.abs(g.x-n.x)>b&&Math.abs(g.y-n.y)<f&&g.el.trigger(g.x>n.x?"tabsSwipeLeft":"tabsSwipeRight");g=n=c})})}var a=1E3,b=30,f=70,k=30,h=[],g=!1;gmu.Tabs.register("swipe",{_init:function(){var a=this._options;this.on("ready",function(){h.push(a._content.get(0));g=g||(e(),!0);this.$el.on("tabsSwipeLeft tabsSwipeRight",d.proxy(this._eventHandler,this))})},_eventHandler:function(a){var b=this._options,d,e;switch(a.type){case "tabsSwipeLeft":case "tabsSwipeRight":d=b.items;"tabsSwipeLeft"==
a.type&&b.active<d.length-1?e=b.active+1:"tabsSwipeRight"==a.type&&0<b.active&&(e=b.active-1);e!==c&&(a.stopPropagation(),this.switchTo(e));break;default:return this.origin(a)}},destroy:function(){var a;~(a=d.inArray(this._options._content.get(0),h))&&h.splice(a,1);this.$el.off("tabsSwipeLeft tabsSwipeRight",this._eventHandler);h.length||(d(document).off("touchstart.tabs"),g=!1);return this.origin()}})})(Zepto);
(function(d,c){var e=/^#.+$/,a={};gmu.Tabs.register("ajax",{_init:function(){var a=this._options,c,d,h;this.on("ready",function(){c=a.items;d=0;for(h=c.length;d<h;d++)c[d].href&&!e.test(c[d].href)&&(c[d].isAjax=!0);this.on("activate",this._onActivate);c[a.active].isAjax&&this.load(a.active)})},destroy:function(){this.off("activate",this._onActivate);this.xhr&&this.xhr.abort();return this.origin()},_fitToContent:function(a){if(!this._options._fitLock)return this.origin(a)},_onActivate:function(a,c){c.isAjax&&
this.load(c.index)},load:function(b,c){var e=this,h=e._options,g=h.items,m,l,p;if(0>b||b>g.length-1||!(m=g[b])||!m.isAjax||(l=e._getPanel(b)).text()&&!c&&a[b])return this;(p=e.xhr)&&setTimeout(function(){p.abort()},400);h._loadingTimer=setTimeout(function(){l.html('<div class="ui-loading">Loading</div>')},50);h._fitLock=!0;e.xhr=d.ajax(d.extend(h.ajax||{},{url:m.href,context:e.$el.get(0),beforeSend:function(a,b){var c=gmu.Event("beforeLoad");e.trigger(c,a,b);if(c.isDefaultPrevented())return!1},success:function(c,
d){var f=gmu.Event("beforeRender");clearTimeout(h._loadingTimer);e.trigger(f,c,l,b,d);f.isDefaultPrevented()||l.html(c);h._fitLock=!1;a[b]=!0;e.trigger("load",l);delete e.xhr;e._fitToContent(l)},error:function(){var c=gmu.Event("loadError");clearTimeout(h._loadingTimer);a[b]=!1;e.trigger(c,l);c.isDefaultPrevented()||l.html('<p class="ui-load-error">内容加载失败!</p>');delete e.xhr}}))}})})(Zepto);
(function(d,c,e){d.define("Button",{options:{iconpos:"left"},template:{icon:'<span class="icon icon-<%= name %>"></span>',text:'<span class="ui-btn-text"><%= text %></span>'},_getWrap:function(a){return a},_init:function(){this.$el=this.$el===e?c("<span/>").appendTo(document.body):this.$el},_create:function(){var a=this,b=a._options,d=a.$wrap=a._getWrap(a.getEl()),k=d.is("input"),h=d.find(".ui-btn-text"),g=d.find(".icon");b.label=b.label===e?d[k?"val":"text"]():b.label;k||b.label===e||!h.length&&
(h=c(a.tpl2html("text",{text:b.label}))).appendTo(d.empty());a.$label=h.length&&h;b.resetText=b.resetText||b.label;k||b.icon&&!g.length&&(g=c(a.tpl2html("icon",{name:b.icon}))).appendTo(d);a.$icon=g.length&&g;d.addClass("ui-btn "+(b.label&&b.icon?"ui-btn-icon-"+b.iconpos:b.label?"ui-btn-text-only":"ui-btn-icon-only"));b.state&&setTimeout(function(){a.state(b.state)},0)},state:function(a){if(a===e)return this._state;var b=this.$wrap,c=b.is("input"),d=this._options[a+"Text"];this.$wrap.removeClass("ui-state-"+
this._state).addClass("ui-state-"+a);d===e||(c?b:this.$label)[c?"val":"text"](d);this._state!==a&&this.trigger("statechange",a,this._state);this._state=a;return this},toggle:function(){this.state("active"===this._state?"reset":"active");return this}});c(function(){c(document.body).highlight("ui-state-hover",".ui-btn:not(.ui-state-disabled)")})})(gmu,gmu.$);
(function(d,c){var e=0;d.Button.register("input",{_getWrap:function(a){var b,d;return a.is('input[type="checkbox"], input[type="radio"]')?(d=a.addClass("ui-hidden")[0],(b=d.id)||(d.id=b="input_btn_"+e++),d=c("label[for="+b+"]",d.form||d.ownerDocument||void 0),d.length||(d=c('<label for="'+b+'"></label>').insertBefore(a)),a.prop("checked")&&(this._options.state="active"),d):a},toggle:function(){var a=this.$el;a.is('input[type="radio"]')&&($radios=c("[name='"+a.attr("name")+"']",a[0].form||a[0].ownerDocument||
void 0),$radios.button("state","reset"));return this.origin.apply(this,arguments)},state:function(a){var b=this.$el;b.is('input[type="checkbox"], input[type="radio"]')&&b.prop("disabled","disabled"===a);return this.origin.apply(this,arguments)}});c(function(){c(document.body).on("click.button","label.ui-btn:not(.ui-state-disabled)",function(){c("#"+this.getAttribute("for")).button("toggle")})})})(gmu,gmu.$);
(function(d,c,e){c.extend(d.Slider.options,{viewNum:1,travelSize:1});d.Slider.register("multiview",{_arrange:function(a,b){var c=this._items,d=this._options.viewNum,e=b%d,g=0,m=this.perWidth=Math.ceil(a/d),l,p;this._slidePos=Array(c.length);for(p=c.length;g<p;g++)l=c[g],l.style.cssText+="width:"+m+"px;left:"+g*-m+"px;",l.setAttribute("data-index",g),g%d===e&&this._move(g,g<b?-a:g>b?a:0,0,Math.min(d,p-g));this._container.css("width",m*p)},_move:function(a,b,c,d,e){var g=this.perWidth,m=this._options,
l=0;for(e=e||m.viewNum;l<e;l++)this.origin(m.loop?this._circle(a+l):a+l,b+l*g,c,d)},_slide:function(a,b,c,d,e,g,m){var l=g.viewNum,p=this._items.length,n;g.loop||(b=Math.min(b,0<c?a:p-l-a));n=this._circle(a-c*b);g.loop||(c=Math.abs(a-n)/(a-n));b%=p;p-b<l&&(b=p-b,c*=-1);g=Math.max(0,l-b);m||(this._move(n,-c*this.perWidth*Math.min(b,l),0,!0),this._move(a+g*c,g*c*this.perWidth,0,!0));this._move(a+g*c,d*c,e);this._move(n,0,e);this.index=n;return this.trigger("slide",n,a)},prev:function(){var a=this._options,
b=a.travelSize;(a.loop||(0<this.index,b=Math.min(this.index,b)))&&this.slideTo(this.index-b);return this},next:function(){var a=this._options,b=a.travelSize,c=a.viewNum;(a.loop||this.index+c<this.length&&(b=Math.min(this.length-1-this.index,b)))&&this.slideTo(this.index+b);return this}})})(gmu,gmu.$);
(function(d){var c=[];d.fn.imglazyload=function(e){function a(a){var b=d(a),f={},g=b;n||(d.each(b.get(0).attributes,function(){~this.name.indexOf("data-")&&(f[this.name]=this.value)}),g=d("<img />").attr(f));b.trigger("startload");g.on("load",function(){!n&&b.replaceWith(g);b.trigger("loadcomplete");g.off("load")}).on("error",function(){var e=d.Event("error");b.trigger(e);e.defaultPrevented||c.push(a);g.off("error").remove()}).attr("src",b.attr(e.urlName))}function b(){var b,f,g;for(b=c.length;b--;){f=
d(g=c[b]);f=f.offset();var n=m?window:h.offset(),p=n[l.win[0]];p>=f[l.img[0]]-e.threshold-n[l.win[1]]&&p<=f[l.img[0]]+f[l.img[1]]&&(k.call(c,b,1),a(g))}}function f(){!n&&p&&d(c).append(p)}var k=Array.prototype.splice;e=d.extend({threshold:0,container:window,urlName:"data-url",placeHolder:"",eventName:"scrollStop",innerScroll:!1,isVertical:!0},e);var h=d(e.container),g=e.isVertical,m=d.isWindow(h.get(0)),l={win:[g?"scrollY":"scrollX",g?"innerHeight":"innerWidth"],img:[g?"top":"left",g?"height":"width"]},
p=d(e.placeHolder).length?d(e.placeHolder):null,n=d(this).is("img");!m&&(l.win=l.img);c=Array.prototype.slice.call(d(c.reverse()).add(this),0).reverse();if(d.isFunction(d.fn.imglazyload.detect))return f(),this;d(document).ready(function(){f();b()});!e.innerScroll&&d(window).on(e.eventName+" ortchange",function(){b()});d.fn.imglazyload.detect=b;return this}})(Zepto);
(function(d,c,e){d.define("Refresh",{options:{loadMoreText:"加载更多",loadingText:"加载中...",doneText:"今天没有更多了",init:null,load:null,statechange:null},_init:function(){var a=this,b=a._options;a.on("ready",function(){c.each(["up","down"],function(c,d){var e=b["$"+d+"Elem"],g=e.get(0);if(e.length){a._status(d,!0);if(!g.childNodes.length||e.find(".ui-refresh-icon").length&&e.find(".ui-refresh-label").length)!g.childNodes.length&&a._createBtn(d),b.refreshInfo||(b.refreshInfo={}),b.refreshInfo[d]={$icon:e.find(".ui-refresh-icon"),
$label:e.find(".ui-refresh-label"),text:e.find(".ui-refresh-label").html()};a._initAction(d);e.on("click",function(){a._status(d)&&!b._actDir&&(a._setStyle(d,"loading"),a._loadingAction(d,"click"))})}})});a.on("destroy",function(){a.$el.remove()})},_create:function(){var a=this._options,b=this.$el;this._options.setup&&(a.$upElem=b.find(".ui-refresh-up"),a.$downElem=b.find(".ui-refresh-down"),b.addClass("ui-refresh"))},_createBtn:function(a){this._options["$"+a+"Elem"].html('<span class="ui-refresh-icon"></span><span class="ui-refresh-label">'+
this._options.loadMoreText+"</span>");return this},_setStyle:function(a,b){var d=c.Event("statechange");this.trigger(d,this._options["$"+a+"Elem"],b,a);return d.defaultPrevented?this:this._changeStyle(a,b)},_changeStyle:function(a,b){var c=this._options,d=c.refreshInfo[a];switch(b){case "loaded":d.$label.html(d.text);d.$icon.removeClass();c._actDir="";break;case "loading":d.$label.html(this._options.loadingText);d.$icon.addClass("ui-loading");c._actDir=a;break;case "disable":d.$label.html(this._options.doneText)}return this},
_initAction:function(a){var b=this._options.init;c.isFunction(b)&&b.call(this,a);return this},_loadingAction:function(a,b){var d=this._options.load;c.isFunction(d)&&d.call(this,a,b);this._status(a,!1);return this},afterDataLoading:function(a){a=a||this._options._actDir;this._setStyle(a,"loaded");this._status(a,!0);return this},_status:function(a,b){var c=this._options;return b===e?c["_"+a+"Open"]:c["_"+a+"Open"]=!!b},_setable:function(a,b,d){var e=this,h=e._options;c.each(b?[b]:["up","down"],function(b,
c){var l=h["$"+c+"Elem"];l.length&&(a?l.show():d?l.hide():e._setStyle(c,"disable"),e._status(c,a))});return e},disable:function(a,b){return this._setable(!1,a,b)},enable:function(a){return this._setable(!0,a)}})})(gmu,gmu.$);(function(d,c,e){d.define("Message",{options:{container:"#message",prefix:"message",target:document.body,type:"error",hideDelay:3},_create:function(){var a=this.getEl();a&&a.length||(this.$el=c('<div id="message" class="message message-'+this._options.type+' fade"></div>'));this.$el.appendTo(this._options.target||document.body);return this},getEl:function(){return this.$el=c(this._options.container)},show:function(a,b,d){if(a)return c.isPlainObject(b)&&(d=b,b=null),c.extend(!0,this._options,d||{}),
clearTimeout(this.$el[0].timer),this.$el[0].className=[this._options.prefix,b?this._options.prefix+"-"+b:null,"fade in"].join(" "),this.$el.html(a).position({my:"center",at:"center",of:window}),this.trigger("show"),this._options.hideDelay&&(this.$el[0].timer=setTimeout(c.proxy(function(){this.hide(d)},this),1E3*(parseInt(this._options.hideDelay,10)||3))),this},hide:function(a){c.extend(!0,this._options,a||{});this.$el.removeClass("in").addClass("out");this.trigger("hide");return this},success:function(a,
b){return this.show(a,"success",b)},error:function(a,b){return this.show(a,"error",b)}})})(gmu,gmu.$);var validatorMap={required:["此项必填",function(d,c,e){return"select"==e?(e=d.selectedIndex,c=d.options[e].value,0<=e&&""!=c&&"_NULL_"!=c):null!==c&&0!==c.length}],minlength:[function(d,c,e){return"null"!=$.type(e)?"输入不正确，至少"+e+"个字符":""},function(d,c,e,a,b){return null===c||""===c||("null"!=$.type(b)?c.length>=+b:!0)}],maxlength:[function(d,c,e){return"null"!=$.type(e)?"输入不正确，最多"+e+"个字符":""},function(d,c,e,a,b){return null===c||""===c||("null"!=$.type(b)?c.length<=+b:!0)}],number:["请填写数值",function(d,
c){return!isNaN(c)&&!/^\s+$/.test(c)}],digits:["只能填写数字",function(d,c){return!/[^\d]/.test(c)}],posint:["请填写正整数",function(d,c){return!/[^\d]/.test(c)&&0<c}],natural:["请填写大于等于0的整数",function(d,c){return!/[^\d]/.test(c)&&0<=c}],positive:["请填写大于0的数值",function(d,c){return!isNaN(c)&&!/^\s+$/.test(c)&&0<c}],nonneg:["请填写大于等于0的数值",function(d,c){return!isNaN(c)&&!/^\s+$/.test(c)&&0<=c}],alpha:["只能填写英文字母",function(d,c){return null===c||""==c||/^[a-zA-Z]+$/.test(c)}],alphanumber:["请填写英文字母或者数字",function(d,c){return!/\W/.test(c)||
/^[a-zA-Z0-9]+$/.test(c)}],alphanumcn:["请填写英文字母、中文或数字",function(d,c){return!/\W/.test(c)||/^[\u4e00-\u9fa5a-zA-Z0-9]+$/.test(c)}],uncnchar:["不能填写中文字符",function(d,c){return!/\W/.test(c)||!/^[\u4e00-\u9fa5]+$/.test(c)}],date:["请填写日期，格式yyyy-mm-dd",function(d,c){return null===c||""==c||/^(?:19|20)[0-9]{2}[\/-](?:[1-9]|0[1-9]|1[012])[\/-](?:[1-9]|0[1-9]|[12][0-9]|3[01])$/.test(c)}],email:["请填写正确的email地址",function(d,c){return null===c||""==c||/^[a-z\d][a-z\d_.]*@[\w-]+(?:\.[a-z]{2,})+$/i.test(c)}],emaillist:['请填写正确的email地址，以","或";"分隔',
function(d,c){return null===c||""==c||/^(?:[a-z\d][a-z\d_.]*@[\w-]+(?:\.[a-z]{2,})+[,;\s]?)+$/i.test(c)}],mobile:["请填写正确的手机号码",function(d,c){return null===c||""==c||/^0?1[34578]\d{9}$/.test(c)}],landline:["请填写正确的座机号码",function(d,c){return null===c||""==c||/^(0\d{2,3}-?)?[2-9]\d{5,7}(-\d{1,5})?$/.test(c)}],tel:["请填写正确的固话或手机号码",function(d,c){return null===c||""==c||/^0?1[3458]\d{9}$|^(0\d{2,3}-?)?[2-9]\d{5,7}(-\d{1,5})?$/.test(c)}],zip:["请填写正确的邮编",function(d,c){return null===c||""==c||/^\d{6}$/.test(c)}],
url:["请填写正确的网址",function(d,c){var e=RegExp("^((https|http|ftp|rtsp|mms)?://)?(([0-9a-z_!~*'().&=+$%-]+: )?[0-9a-z_!~*'().&=+$%-]+@)?(([0-9]{1,3}.){3}[0-9]{1,3}|([0-9a-z_!~*'()-]+.)*([0-9a-z][0-9a-z-]{0,61})?[0-9a-z].[a-z]{2,6})(:[0-9]{1,4})?((/?)|(/[0-9a-z_!~*'().;?:@&=+$,%#-]+)+/?)$","i");return null===c||""==c||e.test(c)}],area:["请选择完整的地区",function(d,c){return $(d).find("select").every(function(c){var a=c.value;return 0===c.offsetHeight+c.offsetWidth?!0:""!=a&&"_NULL_"!=a})}],equalto:["两次填写不一致",
function(d,c,e,a,b){d=$(a).find('[name="'+b+'"]');return!d[0]||c===d.val()}],oneoftwo:["请至少填写一项",function(d,c,e,a,b){d=$(a).find('[name="'+b+'"]');return!d[0]||c||d.val()}],onerequired:["请至少选择一项",function(d,c,e,a){d=d.name;return $(a).find("input"+(d?'[name="'+d+'"]':"")).some(function(a){return $.inArray(["checkbox","radio"],a.type)?a.checked:!!a.value})}]},validation=function(d,c){"string"===typeof c&&(c={range:c});c=$.extend({group:".form-act",tips:{event:"tap",arrow:!0,placement:"left bottom"}},
c||{});d=d?$(d):null;if(!d)return!0;var e=d.data("validateConfig"),a=dataOptions(d,"validate");"string"===typeof e&&(e=JSON.parse(e));c=$.extend(c,e||{},a);d.is("form")&&d.attr("novalidate","novalidate");var b=[];(d.is("form")||"all"===c.range?d.find("[data-validate], [pattern], [type=number], [type=email], [type=tel], [type=url], [type=date], [required], [minlength], [maxlength], [data-equalto], [data-oneoftwo]"):$(d)).every(function(a,e){var h=$(a);if("none"===h.css("display")||0===a.offsetHeight+
a.offsetWidth)return!0;var g=[];h.attr("data-validate")&&(g=h.attr("data-validate").split(" "));h.attr("required")&&g.unshift("required");var m=h.attr("data-caution")||"",l=h.attr("pattern"),p=RegExp("^(?:"+l+")$"),n="custom_"+$.uuid++,m=m?m.split(/&&|&amp;&amp;/):[];l&&(validatorMap[n]||(validatorMap[n]=[h.attr("data-attention")||"",function(a,b){return null===b||""===b||p.test(b)}]),g.push(n));$.each(["number","url","email","tel","date"],function(a,b){h.attr("type")===b&&g.push(b)});$.each(["minlength",
"maxlength","data-equalto","data-oneoftwo"],function(a,b){h.attr(b)&&g.push(b)});if(!g.length)return!0;for(var r=!1,l=0,n=g.length;l<n;l++){var q=g[l],r=h.attr(q),q=q.replace(/^data-/,"");if(q=validatorMap[q]){var q=q instanceof Array?q:["",q],s=h.closest(c.group),t=m[l]||("function"===typeof q[0]?q[0](h[0],h.val(),r):q[0]),q=q[1]||function(){return!0};if(q(h[0],h.val(),h.attr("type"),d.is("[data-validate], [pattern], [type=number], [type=email], [type=tel], [type=url], [type=date], [required], [minlength], [maxlength], [data-equalto], [data-oneoftwo]")?
c.parent||d.parents("form")[0]||d.parent()[0]:d[0],r))s.removeClass("has-error"),r=!0;else{t&&(alert(t),s.addClass("has-error"));r=!1;break}}else r=!0}return r?!0:(b.push(h),!1)});return b.length?(b.shift().focus(),!1):!0};$.fn.validation=function(d){return validation(this,d)};
(function(){var d=function(c,d){var a=$(c),b,f,k={},h=function(a,c){c=c||{};var d={},e;e="submit"===a.attr("type");var f=dataOptions(a,"ajax");if("string"===typeof f.config)try{d=JSON.parse(f.config)||{},delete f.config}catch(g){}else $.isPlainObject(f.config)&&(d=f.config,delete f.config);e&&(b=a.parents("form"));e=b&&b[0]?{url:b[0].action,data:b.serialize(),type:b[0].method||"post"}:{url:a.attr("href"),type:f.type||"get"};var h=a.attr("target");h&&0>["_self","_blank","_parent","_top"].indexOf(h)&&
(e.addition=h);d=$.extend(!0,e,c,d,f);isElement(d.data)&&(d.data=$(d.data).serialize());"string"===typeof d.data?d.data+="&response_json=true":$.isPlainObject(d.data)&&(d.data.response_json=!0);return d},g=function(b){a.removeClass(d.disabled);d.syncCache&&a[0]&&a.data("ajaxCache",d);k.json?m(b):("function"===typeof d.callback&&d.callback(null,a),location.href=d.url+(/\?/.test(d.url)?"&":"?")+d.data)},m=function(b){function c(){"function"===typeof d.callback&&d.callback(b,a)}function g(){h&&("back"==
h?history.back():"reload"==h?location.reload():location.href=h)}if(b){if(d.progress)return d.progress.call(null,b,a);var h=b.redirect,k,m=new gmu.Message;if(!d.showMessage||["error","success"].every(function(a){k=b.message;if(!k||!b[a])return!0;if(d.inject){if(a!==d.tipHidden){var h=k,r=$(d.inject),u=d.position,y=d.ajaxTip;a+=d.tipCls;var x;r&&(x=r.getParent(),f=x.getElement("."+y),x&&f?f.html(h):$('<div class="'+a+" "+y+'">'+h+"</div>").appendTo(r,u))}}else m[a](k,{hideDelay:d.hideDelay,show:c,hide:g});
return!1}))c(),g()}};if(a||a.length)d=h(a,d);return d=$.extend({disabled:"disabled",hideDelay:3,showMessage:!0,position:"before",tipCls:"-tip",ajaxTip:"ajax-tip",beforeSend:function(c,f){if(a.length){var g;(g=a.hasClass(d.disabled))||(g={},g=b||g.data,g=isElement(g)&&!validation(g)?!1:!0,(g=!g)||(g=a.data("ajaxCache"),d.syncCache&&g?(g.success(k.data),g=!0):g=!1));if(g)return!1;a.addClass(d.disabled)}},success:function(a,b,c){k.data=a;b=c.getResponseHeader("Content-type");/application\/json/.test(b)?
("string"===typeof a&&(a=JSON.parse(a)),k.json=a,g(a)):d.update?("function"===typeof d.callback&&d.callback(c),$(d.update).html(a)):(a=/(ecma|java)script/.test(b)?$.globalEval(a):evalScripts(a,null,!0),g(a))},error:function(){a.removeClass(d.disabled)}},d||{})};this.async=function(c,e,a){var b=c.data("ajaxCache");if(c.hasClass("disabled"))return!1;if($.isPlainObject(e))a=e,e=null;else if(isElement(e)){if(!validation(e,a))return c.removeClass("disabled"),!1;if(a&&!1===a.async)return}else if(b)return $.ajax(b);
a=d(c,a);return a.addition?(c=a.addition.split("::"),"confirm"===c[0]&&c[1]&&gmu.Dialog({closeBtn:!1,mask:!0,content:'<div style="margin-top:30px;"><p align="center">'+c[1]+"</p></div>",buttons:{"取消":function(){this.close()},"确定":function(){this.close();return $.ajax(a)}}}),!1):$.ajax(a)};this.Event_Group={_request:{fn:async}}})();
$(document).on("click",function(d){var c=$(d.target),e=c.closest("[type=submit]"),e=e.length?e:c.closest("[rel]");if(e[0]&&9!==e[0].nodeType&&!e[0].disabled){var a=e.parents("form"),c=e.attr("rel"),b=Event_Group[c];if(a[0]&&"false"===a.attr("data-async"))return validation(a);if("submit"===e[0].type&&a[0]&&a.attr("target"))return async(e,a,{async:!1});if("submit"===e[0].type&&"_request"!==c)return d.preventDefault(),async(e,a);if(b){a=b.fn;d.preventDefault();if(e.attr(c))return e;a&&a(e)}}});$.fn.some=function(d,c){return Array.prototype.slice.call(this).some(d,c)};$.fn.every=function(d,c){return Array.prototype.slice.call(this).every(d,c)};function isElement(d){d&&d.length&&(d=d[0]);return!(!d||!d.nodeName||1!==d.nodeType)}function checkAll(d,c){$(c).prop("checked",$(d).prop("checked"))}
function getDomOptions(d,c){if(!c)throw Error("请传入prefix参数");c.toLowerCase();for(var e={},a=d&&d.attributes,b=a&&a.length,f,k;b--;)k=a[b],f=k.name,"data-"===f.substring(0,5)&&(f=f.substring(5),k=parseData(k.value),void 0===k||(e[f]=k));return e}
function dataOptions(d,c){if(!c)throw Error("dataOptions：请传入prefix参数");var e=$(d).data(),a={},b,f=RegExp("^"+c.toLowerCase()+"([A-Z])");c=RegExp("^"+c.toLowerCase());for(var k in e)c.test(k)&&(b=k.replace(f,function(a,b){return b.toLowerCase()}),a[b]=e[k]);return a}$.globalEval=function(d){d&&$.trim(d)&&(window.execScript||function(c){window.eval.call(window,c)})(d)};
function evalScripts(d,c,e){if(d){var a="",b=d.replace(/<script[^>]*>([\s\S]*?)<\/script>/gi,function(b,c){a+=c+"\n";return""});$(c).html(e?b:d);e&&$.globalEval(a);return b}}
function countdown(d,c){function e(a,c,d){var f="",k=!1,n=0,r=0,q=0,s=0,n=Math.round(+new Date/1E3),s=c-n;if(!(0>s))return 0==s&&d&&d(),b||(0<Math.floor(s/86400)&&(n=Math.floor(s/86400),s%=86400,f+=n+"天",k=!0),0<Math.floor(s/3600)&&(r=Math.floor(s/3600),s%=3600,k=!0)),k&&(f+=" "+r+"时",k=!0),!b&&0<Math.floor(s/60)&&(q=Math.floor(s/60),s%=60,k=!0),k&&(f+=" "+q+"分",k=!0),0<Math.floor(s)&&(k=!0),k&&(f+=" "+s+"秒",k=!0),$(a).html(f),setTimeout(function(){e(a,c,d)},1E3)}var a=this;c=$.extend({start:60,secondOnly:!1,
callback:null},c||{});var b=c.secondOnly,f=c.callback,k=Math.round((+new Date+1E3*c.start)/1E3);this.timer=e(d,k,f);this.stop=function(){clearTimeout(a.timer)}}
var Currency={spec:{decimals:2,dec_point:".",thousands_sep:"",sign:"￥"},format:function(d,c){var e,a=this.spec.sign||"";if(!d&&0!==d||isNaN(+d))return d;d=parseFloat(d);this.spec.cur_rate&&(d*=this.spec.cur_rate);d=Math.round(d*Math.pow(10,this.spec.decimals))/Math.pow(10,this.spec.decimals)+"";var b=d.indexOf(".");0>b?(b=d.length,e=""):e=d.substr(b+1);for(;e.length<this.spec.decimals;)e+="0";for(var f=[];0<b;)if(2<b)b-=3,f.unshift(d.substr(b,3));else{f.unshift(d.substr(0,b));break}e||(this.spec.dec_point=
"");c&&(a='<span class="price-currency">'+a+"</span>");return a+f.join(this.spec.thousands_sep)+this.spec.dec_point+e},number:function(d){if(!d)return null;if(isNaN(+d)){if(d instanceof jQuery||d.nodeName&&1===d.nodeType)d=$(d).val()||$(d).text();0==d.indexOf(this.spec.sign)&&(d=d.split(this.spec.sign)[1])}return+d},calc:function(d,c,e,a){if(!c&&0!==c)return null;if(e){d=d&&"add"!=d?-1:1;var b=1,f=1;c instanceof Array&&c.length&&(b=c[1],c=c[0]);e instanceof Array&&e.length&&(f=e[1],e=e[0]);var k=
Math.pow(10,this.spec.decimals*this.spec.decimals);c=Math.abs(b*k*this.number(c)+d*f*k*this.number(e))/k}else c=this.number(c);a||(c=this.format(c));return c},add:function(d,c,e){return this.calc("add",d,c,e)},diff:function(d,c,e){return this.calc("diff",d,c,e)}};function changeVerify(d,c){$(d).each(function(d){d=$(this);var a,b;"IMG"===this.tagName?(b=$(this),a=d.attr("src")):(b=d.siblings("img"),a=d.attr("href"));if(c)d.on("click",function(){changeCode(b,a)});else changeCode(b,a)})}
function changeCode(d,c){c=c||d.attr("src");var e=+new Date,a=c.match(/\b_=([\d]+)\b/);c=a?c.replace(a[1],e):c+((-1<c.indexOf("?")?"&":"?")+"_="+e);d.attr("src",c);return!1}function checkAll(d,c){$(c).prop("checked",$(d).prop("checked"))}
var Placeholder={support:function(){return"placeholder"in document.createElement("input")}(),className:"placeholder",init:function(){this.support||this.create($("input, textarea"))},build:function(d,c){var e=d.parent(),a=Placeholder;"static"==e.css("position")&&e.css("position","relative");return d.prev("."+this.className)||$("<span>",{"class":this.className,html:c,style:"visibility:hidden;"}).before(d).locate({target:d,from:"lc",to:"lc",offset:{x:4},offsetParent:!0}).on("click",function(b){a.hide(this);
d.focus()})},create:function(d){var c=this;$(d).each(function(d){d=$(this);if(!c.support&&d.attr("placeholder")){var a=d.attr("placeholder");d.data("placeholder",c.build(d,a));c.show(d);d.on("focusin",function(a){c.hide(this)}).on("focusout",function(a){c.show(this)})}})},show:function(d){!this.support&&""===d.value&&$(d).is(":visible")&&"hidden"!==$(d).css("visibility")&&$(d).data("placeholder").css("visibility","visible")},hide:function(d){this.support||($(d).data("placeholder")||$(d)).css("visibility",
"hidden")}};
$(function(){document.forms.length&&(changeVerify($("form .auto-change-verify-handle"),!0),$("form .action-remember-account").on("change",function(d){this.checked?$.cookie("S[SIGN][REMEMBER]","1",365):$.cookie("S[SIGN][REMEMBER]","0",365)}).trigger("change"),$("form [data-remote]").on("change",function(d){var c=$(this);d=this.value;var e=this.name,a=$(this).data("remote"),b=c.data("remoteType")||c.parents("form").attr("method"),f=c.data("remoteCallback");if(a&&e&&d)$[b](a,e+"="+d,function(a){"string"===typeof a&&
(a=JSON.parse(a));if(f)return f.call(c,a);var b=Tips.init({target:c.closest(".form-row")});if(a.error)return b.error(a.message);if(a.success)return b.success(a.message)})}));Placeholder.init()});
var AreaWidget=function(d){var c=this;c.options={dataUrl:"data.json",select:null,level:3,name:"area[]",initData:null,initCallback:function(){}};var e=function(b){c.box.empty();c.data=b;c.nowList=[];c.selectList=[];c.selected=[];for(b=0;b<c.options.level;b++)c.selectList[b]=0==b?$("<select></select>").appendTo(c.box).change(a):$('<select style="display:none;"></select>').appendTo(c.box).change(a);var d="";$.each(c.data,function(a,b){d+="<option value='"+c.data[a].id+"'>"+c.data[a].value+"</option>"});
c.selectList[0].html('<option value="">-请选择-</option>'+d);c.nowList[0]=c.data;if(c.options.initData){c.input=$('<input type="hidden" name="'+c.options.name+'" value="'+c.options.initData+'">').appendTo(c.box);var e=c.options.initData.split(",");$.each(c.selectList,function(a,b){e[a]&&b.val(e[a]).trigger("change")});c.options.initCallback.call(c)}else c.input=$('<input type="hidden" name="'+c.options.name+'">').appendTo(c.box)},a=function(){var a=$(this),d=0,e=a.index();a.find("option").each(function(a,
b){b.selected&&(d=a-1)});if(c.selected[e+1])for(var h=e+1;h<c.options.level;h++)c.selectList[h].hide(),c.selected.pop();a.val()?c.selected[e]=a.val():delete c.selected[e];c.input.val(c.selected.join(","));if(e+1<c.options.level){c.nowList[e+1]=c.nowList[e][d].children;if("undefined"===typeof c.nowList[e+1])return c.nowList[e+1]=null,c.selectList[e+1].html("<option> -- </option>"),0;var g="";$.each(c.nowList[e+1],function(a,b){g+="<option value='"+c.nowList[e+1][a].id+"'>"+c.nowList[e+1][a].value+
"</option>"});c.selectList[e+1].show().html('<option value="">请选择</option>'+g)}};(function(){c.options=$.extend(c.options,d);c.box=c.options.select;$.ajax({type:"GET",url:c.options.dataUrl,dataType:"json",success:function(a){a?e(a):c.box.html("地区数据加载异常,请检查网络。")}})})()};$.fn.multiSelect=function(d){d=new AreaWidget($.extend({select:this},d||{}));return $(this).data("multiSelectInstance",d)};